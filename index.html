
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#giris" class="toc-h1 toc-link" data-title=" Giriş"><a href="#paytrek" style="color: white; text-decoration: none; color:#7ccfaf"> Giriş</a></a>
          </li>
          <li>
            <a href="#odeme-akisi" class="toc-h1 toc-link" data-title="Ödeme Akışı">Ödeme Akışı</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#paytrek-ortak-odeme-formu" class="toc-h2 toc-link" data-title="Paytrek Ortak Ödeme Formu">Paytrek Ortak Ödeme Formu</a>
                  </li>
                  <li>
                    <a href="#direkt-odeme" class="toc-h2 toc-link" data-title="Direkt Ödeme">Direkt Ödeme</a>
                  </li>
                  <li>
                    <a href="#kart-saklama-ile-odeme" class="toc-h2 toc-link" data-title=" Kart Saklama ile Ödeme"> Kart Saklama ile Ödeme</a>
                  </li>
                  <li>
                    <a href="#on-otorizasyon-ile-odeme" class="toc-h2 toc-link" data-title=" Ön Otorizasyon ile Ödeme"> Ön Otorizasyon ile Ödeme</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#3d-transactions" class="toc-h1 toc-link" data-title="3D Transactions">3D Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#paytrek-ortak-odeme-ile-3d-guvenli-odeme-islemi" class="toc-h2 toc-link" data-title="Paytrek Ortak Ödeme ile 3D Güvenli Ödeme İşlemi">Paytrek Ortak Ödeme ile 3D Güvenli Ödeme İşlemi</a>
                  </li>
                  <li>
                    <a href="#direkt-odeme-ile-3d-guvenli-odeme-islemi" class="toc-h2 toc-link" data-title="Direkt Ödeme ile 3D Güvenli Ödeme İşlemi">Direkt Ödeme ile 3D Güvenli Ödeme İşlemi</a>
                  </li>
                  <li>
                    <a href="#kart-saklama-ile-3d-guvenli-odeme-islemi" class="toc-h2 toc-link" data-title="Kart Saklama ile 3D Güvenli Ödeme İşlemi">Kart Saklama ile 3D Güvenli Ödeme İşlemi</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#paytrek-api" class="toc-h1 toc-link" data-title="Paytrek API">Paytrek API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#kimlik-dogrulama" class="toc-h2 toc-link" data-title="Kimlik Doğrulama">Kimlik Doğrulama</a>
                  </li>
                  <li>
                    <a href="#headers" class="toc-h2 toc-link" data-title="Headers">Headers</a>
                  </li>
                  <li>
                    <a href="#endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#paytrek-ortamlarinin-url-39-leri" class="toc-h2 toc-link" data-title="Paytrek Ortamlarının URL'leri">Paytrek Ortamlarının URL'leri</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#paytrekjs-kutuphanesi" class="toc-h1 toc-link" data-title="PaytrekJS Kütüphanesi">PaytrekJS Kütüphanesi</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#paytrekjs-entegrasyonu" class="toc-h2 toc-link" data-title="PaytrekJS Entegrasyonu">PaytrekJS Entegrasyonu</a>
                  </li>
                  <li>
                    <a href="#paytrekjs-39-yi-sitenize-dahil-etmek" class="toc-h2 toc-link" data-title="PaytrekJS'yi Sitenize Dahil Etmek">PaytrekJS'yi Sitenize Dahil Etmek</a>
                  </li>
                  <li>
                    <a href="#paytrekjs-39-yi-konfigure-etme" class="toc-h2 toc-link" data-title="PaytrekJS'yi Konfigüre Etme">PaytrekJS'yi Konfigüre Etme</a>
                  </li>
                  <li>
                    <a href="#paytrek-form" class="toc-h2 toc-link" data-title="Paytrek.Form">Paytrek.Form</a>
                  </li>
                  <li>
                    <a href="#paytrek-creditcard" class="toc-h2 toc-link" data-title="Paytrek.CreditCard">Paytrek.CreditCard</a>
                  </li>
                  <li>
                    <a href="#odeme-secenekleri" class="toc-h2 toc-link" data-title="Ödeme Seçenekleri">Ödeme Seçenekleri</a>
                  </li>
                  <li>
                    <a href="#paytrek-checkout" class="toc-h2 toc-link" data-title="Paytrek.Checkout">Paytrek.Checkout</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#test-kartlari" class="toc-h1 toc-link" data-title="Test Kartları">Test Kartları</a>
          </li>
          <li>
            <a href="#hata-kodlari" class="toc-h1 toc-link" data-title="Hata Kodları">Hata Kodları</a>
          </li>
          <li>
            <a href="#paytrek-koleksiyon-cuzdani" class="toc-h1 toc-link" data-title="Paytrek Koleksiyon Cüzdanı">Paytrek Koleksiyon Cüzdanı</a>
          </li>
          <li>
            <a href="#reference" class="toc-h1 toc-link" data-title=" Reference "><a href="#reference" style="color: white; text-decoration: none; color:#7ccfaf"> Reference </a></a>
          </li>
          <li>
            <a href="#satis" class="toc-h1 toc-link" data-title="Satış">Satış</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#satis-olusturma" class="toc-h2 toc-link" data-title="Satış Oluşturma">Satış Oluşturma</a>
                  </li>
                  <li>
                    <a href="#satisi-inceleme" class="toc-h2 toc-link" data-title="Satışı İnceleme">Satışı İnceleme</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#odeme" class="toc-h1 toc-link" data-title="Ödeme">Ödeme</a>
          </li>
          <li>
            <a href="#direkt-odeme-2" class="toc-h1 toc-link" data-title="Direkt Ödeme">Direkt Ödeme</a>
          </li>
          <li>
            <a href="#vault" class="toc-h1 toc-link" data-title="Vault">Vault</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#vault-card" class="toc-h2 toc-link" data-title="Vault Card">Vault Card</a>
                  </li>
                  <li>
                    <a href="#vault-edilen-karti-goruntuleme" class="toc-h2 toc-link" data-title="Vault Edilen Kartı Görüntüleme">Vault Edilen Kartı Görüntüleme</a>
                  </li>
                  <li>
                    <a href="#vault-edilen-kartlari-listeleme" class="toc-h2 toc-link" data-title="Vault Edilen Kartları Listeleme">Vault Edilen Kartları Listeleme</a>
                  </li>
                  <li>
                    <a href="#vault-edilen-karti-silme" class="toc-h2 toc-link" data-title="Vault Edilen Kartı Silme">Vault Edilen Kartı Silme</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#kart-saklama-ile-odeme-2" class="toc-h1 toc-link" data-title="Kart Saklama ile Ödeme">Kart Saklama ile Ödeme</a>
          </li>
          <li>
            <a href="#capture" class="toc-h1 toc-link" data-title="Capture">Capture</a>
          </li>
          <li>
            <a href="#iptal" class="toc-h1 toc-link" data-title="İptal">İptal</a>
          </li>
          <li>
            <a href="#iade" class="toc-h1 toc-link" data-title="İade">İade</a>
          </li>
          <li>
            <a href="#odeme-plani" class="toc-h1 toc-link" data-title="Ödeme Planı">Ödeme Planı</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#tekrarlayan-odeme-periotlari" class="toc-h2 toc-link" data-title="Tekrarlayan Ödeme Periotları">Tekrarlayan Ödeme Periotları</a>
                  </li>
                  <li>
                    <a href="#odeme-plani-olusturma" class="toc-h2 toc-link" data-title=" Ödeme Planı Oluşturma"> Ödeme Planı Oluşturma</a>
                  </li>
                  <li>
                    <a href="#odeme-plani-goruntuleme" class="toc-h2 toc-link" data-title="Ödeme Planı Görüntüleme">Ödeme Planı Görüntüleme</a>
                  </li>
                  <li>
                    <a href="#odeme-plani-guncelleme" class="toc-h2 toc-link" data-title="Ödeme Planı Güncelleme">Ödeme Planı Güncelleme</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#taksitler" class="toc-h1 toc-link" data-title="Taksitler">Taksitler</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='giris'><a href='#paytrek' style='color: white; text-decoration: none; color:#7ccfaf' > Giriş</a></h1>
<p>Paytrek PCI DSS Seviye 1, en yüksek seviye kart sahibi bilgi güvenliği,
sertifikası ile 100&#39;den fazla ülkede yasal kurulum gereksinimleri ücretsiz,
kullanımı ve entegrasyonu kolay bir ödeme sistemi hizmeti sunmaktadır.</p>
<h1 id='odeme-akisi'>Ödeme Akışı</h1>
<p>Hızlı ve kolay entegrasyon için aşağıdaki ödeme akışları önerilmektedir.</p>

<p>Paytrek ödeme sistemi kullanabilmeniz için öncelikle onaylanmış bir üye
işyeri hesabına sahip olmanız gerekir.
API isteğinde bulunabilmek için kullanıcı adı ve parolanız bulunmuyor
ise lütfen <a href="https://sandbox.paytrek.com/sandbox/signup">https://sandbox.paytrek.com/sandbox/signup</a> adresine
giderek kullanıcınızı oluşturun. Paytrek entegrasyonunuzu
tamamladıktan sonra takımımız sizinle canlı ortam
bilgileri paylaşılacaktır.</p>

<p>Paytrek aşağıda belirtilen ödeme yöntemlerine sahiptir.</p>

<ul>
<li>Paytrek Ortak Ödeme Formu</li>
<li>Direkt Ödeme</li>
<li>Kart Saklama ile Ödeme</li>
<li>Ön Otorizasyon ile Ödeme</li>
</ul>
<h2 id='paytrek-ortak-odeme-formu'>Paytrek Ortak Ödeme Formu</h2>
<ol>
<li>Müşteri üye iş yerinin web sitesinde bir sipariş verir.</li>
<li>Üye işyeri Paytrek&#39;e <a href="#satis-sale">Sale</a> Kaynağını kullanarak token isteğinde bulunur.</li>
<li>Tarafımızdan üye işyerine <code>sale_token</code> bilgisi cevap olarak verilir.</li>
<li>Üye işyeri müşterisini yukarıdaki token aracılığıyla ödeme sayfasına yönlendirir. [1]</li>
<li>Müşteri ortak ödeme sayfasında ödeme için gereken bilgileri doldurur.</li>
<li>Paytrek ödeme işlemini gerçekleştirir.</li>
<li>Paytrek müşterinin girdiği bilgiler doğrultusunda ödemeyi gerçekleştirdiği istemciden
bilgileri alır.</li>
<li>İşlem gerçekleştikten sonra muşteri ilgili üye işyerinin sayfasına <code>sale_token</code> ile yönlendirilir. [2]</li>
</ol>

<p><sub> * [1, 2] Sandbox ortak ödeme formu
    <a href="https://sandbox.paytrek.com">https://sandbox.paytrek.com</a>, Production ortak ödeme sayfası ise
    <a href="https://secure.paytrek.com">https://secure.paytrek.com</a> da yer alır.
    Üye işyeri yönlendirme yaparken bu URL&#39;lerin sonuna <code>sale_token</code> bilgisi
    ekleyerek ilgili ortamlarda bu sayfalara yönlendirme yapması gerekmektedir.
    (ie. <a href="https://sandbox.paytrek.com/?token=TOKEN_VALUE">https://sandbox.paytrek.com/?token=TOKEN_VALUE</a>)</sub></p>

<p><sub> * [1, 2] Ortak ödeme sayfasında müşteri
    işlemi gerçekleştirdikten sonra Paytrek tarafından üye iş yeri sayfasına yönlendirilir
    Bu esnada üye işyeri Sale Kaynağını kullanarak satışın durumunu sorgulamalıdır.
    Satışın durumu  <strong>Paid</strong>, <strong>Ready to Send</strong>,
    <strong>Authorized</strong> veya <strong>PreAuthorized</strong> ise bu satışın başarılı bir şekilde gerçekleştiğini
    gösterir.</sub></p>
<h2 id='direkt-odeme'>Direkt Ödeme</h2>
<p><img src="https://sandbox.paytrek.com/static/images/Direct_Charge.png" alt="Checkout Form" /></p>

<ol>
<li>Müşteri üye işyerine ait ödeme sayfasına yönlenir.</li>
<li>Müşteri kart bilgilerini üye işyerinin ödeme sayfasında paylaşır.</li>
<li>Üye işyeri <a href="#direkt-odeme-2">Direct Charge</a> Kaynağını kullanarak
müşteriden aldığı bilgilerle ödeme işlemi için Paytrek&#39;e istekte bulunur.</li>
<li>Paytrek üye işyerinden gelen isteği karşılar.</li>
<li>Paytrek ödemeyi gerçekleştirmek üzere ilgili istemciye istekte bulunur.</li>
<li>Ödeme işleminin sonucu üye işyerine cevap olarak dönülür.</li>
</ol>
<h2 id='kart-saklama-ile-odeme'> Kart Saklama ile Ödeme</h2>
<p><img src="https://sandbox.paytrek.com/static/images/Tokenization_Flow.png" alt="Tokenization" /></p>

<ol>
<li>Müşteri üye işyerine ait ödeme sayfasına yönlenir.</li>
<li>Müşteri kart bilgilerini üye işyerinin ödeme sayfasında paylaşır
ve üye iş yeri PaytrekJS aracılığıyla <code>Create Card Token</code> kullanarak,
kart bilgilerini tokenize eder.</li>
<li>Üye iş yeri bu kart token&#39;ı kaydettikten sonra <a href="#satis">Sale</a> Kaynağını kullanarak
satış oluşturur.</li>
<li>Üye işyeri ilgili <code>card_token</code> ve <code>sale_token</code> kullanarak <a href="#kart-saklama-ile-odeme-2">Charge with Card Token</a> Kaynağına
istekte bulunur.</li>
<li>Paytrek üye işyerinden gelen isteği karşılar.</li>
<li>Paytrek ödemeyi gerçekleştirmek üzere ilgili istemciye istekte bulunur.</li>
<li>Ödeme işleminin sonucu üye işyerine cevap olarak dönülür.</li>
</ol>
<h2 id='on-otorizasyon-ile-odeme'> Ön Otorizasyon ile Ödeme</h2>
<p><img src="https://sandbox.paytrek.com/static/images/Pre-Authorization.png" alt="Pre-Authorization" /></p>

<ol>
<li>Müşteri üye işyerine ait ödeme sayfasına yönlenir.</li>
<li>Müşteri kart bilgilerini üye işyerinin ödeme sayfasında paylaşır
ve üye işyeri <a href="#direkt-odeme-2">Direct Charge</a> Kaynağına
<code>pre_auth</code> parametresini <code>true</code> olacak şekilde gönderir (<code>pre_auth:true</code>).</li>
<li>Üye iş yeri <code>sale_token</code> kullanarak <a href="#capture">Capture</a> Kaynağına
istekte bulunur.</li>
<li>Paytrek üye işyerinden gelen isteği karşılar.</li>
<li>Paytrek ödemeyi gerçekleştirmek üzere ilgili istemciye istekte bulunur.</li>
<li>Ödeme işleminin sonucu üye işyerine cevap olarak dönülür.</li>
</ol>
<h1 id='3d-transactions'>3D Transactions</h1>
<p>Üye işyeri ve/veya müşteri ödeme işleminin MasterCard veya Visa
tarafından sağlanan 3D güvenli ödeme işlemi olarak yapılmasını talep
edebilir. Bu bağlamda Paytrek 3D ödeme işlemini tüm ödeme akışlarına
desteklemektedir.</p>

<p>Üye işyeri 3D güvenli ödeme işlemi gerçekleştirmek için bulunduğu isteklerin içerisine <code>secure_option</code> parametresini <code>true</code> olarak eklemelidir (<code>secure_option:true</code>).</p>
<h2 id='paytrek-ortak-odeme-ile-3d-guvenli-odeme-islemi'>Paytrek Ortak Ödeme ile 3D Güvenli Ödeme İşlemi</h2>
<ol>
<li>Müşteri üye işyerine ait ödeme sayfasına yönlenir.</li>
<li>Üye işyeri <a href="#satis">Sale</a> Kaynağını kullanarak satış oluşturur.</li>
<li>Paytrek tarafından üye işyerine <code>sale_token</code> bilgili cevap olarak dönülür.</li>
<li>Üye işyeri <code>sale_token</code> bilgisi kullanarak müşterisini ortak ödeme sayfasına
yönlendirir. [1]</li>
<li>Müşteri ortak ödeme sayfasında kart bilgilerini paylaşır.</li>
<li>Paytrek tarafında 3D güvenli ödeme işlemi başlatılır ve müşteri karta ait
istemcinin 3D güvenli ödeme sayfasına yönlendirilir.</li>
<li>Müşteri 3D ödeme işlemini gerçekleştirmek üzere PIN girişi yapar.</li>
<li>Müşteri 3D ödeme sayfasından Paytrek sayfasına yönlendirilir.</li>
<li>Paytrek ödeme işlemini 3D güvenli ödeme işlemi sonucuna göre işler. Bu bağlamda
Müşteri 3D işlemini başarılı bir şekilde tamamlayabilir ya da satışı 3D aşamasında
bırakıp satışı tamamlamamayı tercih edebilir. İki durumda da paytrek tarafından üye
işyerine işlem bilgili cevap olarak dönülür.</li>
<li>Müşteri üye işyerinin sayfasına <code>sale_token</code> bilgisi ile yönlendirilir. [2]</li>
</ol>

<p><sub> * [1, 2] Sandbox ortak ödeme formu
    https://sandbox.paytrek.com, Production ortak ödeme sayfası ise
    https://secure.paytrek.com da yer alır.
    Üye işyeri yönlendirme yaparken bu URL&#39;lerin sonuna <code>sale_token</code> bilgisi
    ekleyerek ilgili ortamlarda bu sayfalara yönlendirme yapması gerekmektedir.
    (ie. https://sandbox.paytrek.com/?token=TOKEN_VALUE)</sub></p>

<p><sub> * [1, 2] Ortak ödeme sayfasında müşteri
    işlemi gerçekleştirdikten sonra Paytrek tarafından üye iş yeri sayfasına yönlendirilir
    Bu esnada üye işyeri Sale Kaynağını kullanarak satışın durumunu sorgulamalıdır.
    Satışın durumu  <strong>Paid</strong>, <strong>Ready to Send</strong>,
    <strong>Authorized</strong> veya <strong>PreAuthorized</strong> ise bu satışın başarılı bir şekilde gerçekleştiğini
    gösterir.</sub></p>
<h2 id='direkt-odeme-ile-3d-guvenli-odeme-islemi'>Direkt Ödeme ile 3D Güvenli Ödeme İşlemi</h2>
<ol>
<li>Müşteri üye işyerine ait ödeme sayfasına yönlenir.</li>
<li>Müşteri kart bilgilerini üye işyerinin ödeme sayfasında paylaşır.</li>
<li>Üye işyeri <a href="#direkt-odeme-2">Direct Charge</a> Kaynağını kullanarak
müşteriden aldığı bilgilerle ödeme işlemi için Paytrek&#39;e istekte bulunur.</li>
<li>Paytrek bu isteğe cevap olarak müşterinin 3D güvenli bilgilerini gireceği
<code>forward_url</code> bilgisini üye işyeri ile paylaşır.</li>
<li>Üye işyeri müşterisini ilgi <code>forward_url</code> e yönlendirir.</li>
<li>Müşteri bu forward url aracılığıyla 3D güvenli ödeme sayfasına yönlenir.</li>
<li>Müşteri 3D güvenli ödemeyi gerçekleştirmek için PIN bilgilerini girer.</li>
<li>3D güvenli ödeme sayfasının başarılı bir şekilde tamamlanması sonucunda
müşteri Paytrek&#39;e yönlendirilir.</li>
<li>Paytrek ödeme işlemini 3D güvenli ödeme işlemi sonucuna göre işler. Bu bağlamda
Müşteri 3D işlemini başarılı bir şekilde tamamlayabilir ya da satışı 3D aşamasında
bırakıp satışı tamamlamamayı tercih edebilir. İki durumda da paytrek tarafından üye
işyerine işlem bilgili cevap olarak dönülür.</li>
<li>Müşteri üye işyerinin sayfasına yönlendirilir. [1]</li>
</ol>

<p><sub> * [1] Paytrek üye işyeri tarafından Sale Kaynağına istekte bulunurken,
    paylaşmış olduğu <code>return_url</code> adresine müşteriyi yönlendirir. İlgili istek
    içerisinde <code>return_url</code> bulunmuyor ise müşteri, üye işyerinin kullanıcı bilgileri
    oluşturulurken vermiş olduğu url bilgisine yönlendirilir.</sub></p>
<h2 id='kart-saklama-ile-3d-guvenli-odeme-islemi'>Kart Saklama ile 3D Güvenli Ödeme İşlemi</h2>
<ol>
<li>Müşteri üye işyerine ait ödeme sayfasına yönlenir.</li>
<li>Müşteri kart bilgilerini üye işyerinin ödeme sayfasında paylaşır
ve üye iş yeri PaytrekJS aracılığıyla <code>Create Card Token</code> kullanarak,
kart bilgilerini tokenize eder.</li>
<li>Üye iş yeri bu kart token&#39;ı kaydettikten sonra <a href="#satis">Sale</a> Kaynağını kullanarak
satış oluşturur.</li>
<li>Üye işyeri ilgili <code>card_token</code> ve <code>sale_token</code> kullanarak <a href="#kart-saklama-ile-odeme-2">Charge with Card Token</a> Kaynağına
istekte bulunur.</li>
<li>Paytrek bu isteğe cevap olarak müşterinin 3D güvenli bilgilerini gireceği
<code>forward_url</code> bilgisini üye işyeri ile paylaşır.</li>
<li>Üye işyeri müşterisini ilgi <code>forward_url</code> e yönlendirir.</li>
<li>Müşteri bu forward url aracılığıyla 3D güvenli ödeme sayfasına yönlenir.</li>
<li>Müşteri 3D güvenli ödemeyi gerçekleştirmek için PIN bilgilerini girer.</li>
<li>3D güvenli ödeme sayfasının başarılı bir şekilde tamamlanması sonucunda
müşteri Paytrek&#39;e yönlendirilir.</li>
<li>Paytrek ödeme işlemini 3D güvenli ödeme işlemi sonucuna göre işler. Bu bağlamda
Müşteri 3D işlemini başarılı bir şekilde tamamlayabilir ya da satışı 3D aşamasında
bırakıp satışı tamamlamamayı tercih edebilir. İki durumda da paytrek tarafından üye
işyerine işlem bilgili cevap olarak dönülür.</li>
<li>Müşteri üye işyerinin sayfasına yönlendirilir.  <a href="#">[3]</a></li>
</ol>

<p><sub> * [3] Paytrek üye işyeri tarafından Sale Kaynağına istekte bulunurken,
    paylaşmış olduğu <code>return_url</code> adresine müşteriyi yönlendirir. İlgili istek
    içerisinde <code>return_url</code> bulunmuyor ise müşteri, üye işyerinin kullanıcı bilgileri
    oluşturulurken vermiş olduğu url bilgisine yönlendirilir.</sub></p>
<h1 id='paytrek-api'>Paytrek API</h1>
<p>Paytrek gateway API RESTful mimarisi esas alınarak en iyi endütriyel standartlara
göre dizayn edilmiştir.</p>
<h2 id='kimlik-dogrulama'>Kimlik Doğrulama</h2>
<p>Paytrek tarafına iletilen tüm istekler basit kimlik doğrulama yöntemi
kullanılarak gönderilmelidir <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">Basic Auth</a>.</p>

<p>API isteği yapabilmek için bir kullanıcı adı(api_key) ve parola(secret) bilgisine sahip
değilseniz lütfen https://sandbox.paytrek.com/sandbox/signup adresinden kayıt olunuz.</p>

<p>Kullanıcı adı(api_key) ve parola(secret) bilgileriniz <a href="https://sandbox.paytrek.com/dashboard/account_info/">Hesap Bilgileri</a>
sayfasında yer almaktadır.</p>
<h2 id='headers'>Headers</h2>
<p>Tüm isteklerin headerları <code>Content-Type: application/json</code> içermelidir.</p>
<h2 id='endpoints'>Endpoints</h2>
<table><thead>
<tr>
<th>Resource</th>
<th style="text-align: left">Endpoint</th>
<th style="text-align: center">Allowed HTTP Methods</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#satis"><code>Sale</code></a></td>
<td style="text-align: left"><code>/api/v2/sale/</code></td>
<td style="text-align: center"><code>POST</code> <code>GET</code></td>
</tr>
<tr>
<td><a href="#odeme"><code>Charge</code></a></td>
<td style="text-align: left"><code>/api/v2/charge/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#direkt-odeme-2"><code>Direct Charge</code></a></td>
<td style="text-align: left"><code>/api/v2/direct_charge/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#vault"><code>Vault</code></a></td>
<td style="text-align: left"><code>/api/v2/vault/</code></td>
<td style="text-align: center"><code>POST</code> <code>GET</code></td>
</tr>
<tr>
<td><a href="#kart-saklama-ile-odeme-2"><code>Charge With Token</code></a></td>
<td style="text-align: left"><code>/api/v2/charge_with_token/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#capture"><code>Capture</code></a></td>
<td style="text-align: left"><code>/api/v2/capture/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#iptal"><code>Cancel</code></a></td>
<td style="text-align: left"><code>/api/v2/cancel/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#iade"><code>Refund</code></a></td>
<td style="text-align: left"><code>/api/v2/refund/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#taksitler"><code>Installments</code></a></td>
<td style="text-align: left"><code>/api/v2/installments/</code></td>
<td style="text-align: center"><code>GET</code></td>
</tr>
</tbody></table>
<h2 id='paytrek-ortamlarinin-url-39-leri'>Paytrek Ortamlarının URL&#39;leri</h2>
<table><thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">Sandbox (Test Ortamı)</td>
<td style="text-align: left"><a href="https://sandbox.paytrek.com">https://sandbox.paytrek.com</a></td>
</tr>
<tr>
<td style="text-align: left">Canlı Ortam</td>
<td style="text-align: left"><a href="https://secure.paytrek.com.tr">https://secure.paytrek.com.tr</a></td>
</tr>
</tbody></table>
<h1 id='paytrekjs-kutuphanesi'>PaytrekJS Kütüphanesi</h1>
<p>PaytrekJS, Paytrek’e ait tokenization servisini müşteri tarafında bulunan
uygulamanıza entegre etmenize yardımcı olacak küçük bir kütüphanedir.
Bu bölümde bu kütüphaneyi inceleyeceğiz.</p>
<h2 id='paytrekjs-entegrasyonu'>PaytrekJS Entegrasyonu</h2>
<p>PaytrekJS, form gönderimlerinizi veya etkinlik işleyicilerinizi etkilemez.
Formunuzun onsubmit işleyicisinde gerçekleştirmek istediğiniz her işlemi bir
kere çağırmanız yeterlidir.</p>
<h2 id='paytrekjs-39-yi-sitenize-dahil-etmek'>PaytrekJS&#39;yi Sitenize Dahil Etmek</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"https://secure.paytrek.com.tr/static/v2/js/paytrek.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<blockquote>
<p>Paytrek Sandbox (Test Ortamı için), lütfen aşağıdaki şekilde sitenize dahil edin:</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"https://sandbox.paytrek.com/static/v2/js/paytrek.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>PaytrekJS&#39;i kullanabilmek için web sayfanıza eklemeniz gerekmektedir.
Header veya footera ekleyebilirsiniz.</p>
<h2 id='paytrekjs-39-yi-konfigure-etme'>PaytrekJS&#39;yi Konfigüre Etme</h2>
<p>PaytrekJS, ayarlamanız gereken bazı yapılandırma seçeneklerine sahiptir.
Seçenekler aşağıdaki gibi açıklanmıştır:</p>
<h3 id='paytrekjs-ayarlari'>PaytrekJS Ayarları</h3>
<blockquote>
<p>Aşağıda, PaytrekJS yi nasıl yerleştirebileceğinizi gösteren bir kod örneği verilmiştir.</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"publishableKey"</span>          <span class="p">:</span> <span class="s2">"myPaytrekPublishableKey"</span><span class="p">,</span>
    <span class="s2">"host"</span>                    <span class="p">:</span> <span class="s2">"https://secure.paytrek.com"</span><span class="p">,</span>
    <span class="s2">"orderId"</span>                 <span class="p">:</span> <span class="s2">"1420199350"</span><span class="p">,</span>
    <span class="s2">"currency"</span>                <span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
    <span class="s2">"amount"</span>                  <span class="p">:</span> <span class="s2">"1299.00"</span><span class="p">,</span>
    <span class="s2">"removeCardElements"</span>      <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"resetCardElementValues"</span>  <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"cardTokenField"</span>       <span class="p">:</span> <span class="s2">"card_token"</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"payment_form"</span><span class="p">);</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"submit"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle your form submission.</span>
    <span class="c1">// everything seems good so far let's get a card token</span>
    <span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
    <span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">createToken</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s2">"errors"</span><span class="p">))</span> <span class="p">{</span>
            <span class="c1">// there's a validation error or there's a server side error</span>
            <span class="c1">// from Paytrek that you must handle.</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// we have the token, let's use it.</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">card_token</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: left">Değişken Adı</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">publishableKey</td>
<td style="text-align: left">string Paytrek Dashboard üzerinden aldığınız publishable key bilgisi</td>
</tr>
<tr>
<td style="text-align: left">host</td>
<td style="text-align: left">string İstekte bulunacağınız paytrek istemci bilgileri. Canlı ortam için host bilgisi secure.paytrek.com.tr test ortamı içinse sandbox.paytrek.com host bilgisi olarak kullanılabilir.</td>
</tr>
<tr>
<td style="text-align: left">orderId</td>
<td style="text-align: left">string Satış oluştururken kullanacağınız sipariş id bilgisi.Sipariş idsi her bir satış için tekil olmalıdır.</td>
</tr>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string Para biriminin ISO kodu formatı (ie: TRY, USD, EUR)</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">string Satışa ait tutar bilgisi. (ie: 23.99)</td>
</tr>
<tr>
<td style="text-align: left">removeCardElements</td>
<td style="text-align: left">true ya da false. Paytrek Form&#39;un bir token aldıktan sonra kredi kartıyla ilgili tüm öğeleri formunuzdan kaldırması gerekip gerekmediği kararı.</td>
</tr>
<tr>
<td style="text-align: left">resetCardElementValues</td>
<td style="text-align: left">true or false. Paytrek Form&#39;un bir kart belirteci aldıktan sonra kredi kartıyla ilgili tüm öğelerin değerini boş bir dizeye sıfırlayıp sıfırlamaması kararı.</td>
</tr>
<tr>
<td style="text-align: left">cardTokenField</td>
<td style="text-align: left">string Paytrekten alınacak payment tokenın yazılabileceği hidden input alanının idsi.</td>
</tr>
<tr>
<td style="text-align: left">useVaultField</td>
<td style="text-align: left">string Ödeme işlemi yapıldıktan sonra kartın kaydedilip kaydedilmeyeceğine karar verilen checkbox alanının idsi</td>
</tr>
</tbody></table>

<p>PaytrekJS, iki temel bileşenden oluşur:</p>
<h2 id='paytrek-form'>Paytrek.Form</h2>
<p>Bu sınıf dosyası, ödeme formunuza bir JavaScript nesnesi eşlemesidir. Sınıfın özelliklerine göre
Kredi kartı numaranızı, cvv, son kullanma tarihi ve kart sahibinin adı alanlarını eşler.</p>
<h3 id='yapi'> Yapı</h3><pre class="highlight javascript tab-javascript"><code><span class="c1">// creating a Paytrek.Form object with an id</span>
<span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="s2">"myFormId"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// creating a Paytrek.Form object with a form element</span>
<span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myFormId"</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</code></pre>
<p>Formunuzun id niteliğini veya form öğesinin kendisini sağlayarak Paytrek.Form sınıfını başlatabilirsiniz.
İsteğinize göre form objesini ve objenin ilişkilendiği satış bilgilerini konfigüre edebilirsiniz.</p>

<p>Form bulunamaz ise ilgili öğe tarafından hata fırlatılır.</p>
<h3 id='sale-data-objesi'>Sale Data Objesi</h3>
<p>Sale Data objesi bir card token oluşturulurken satışa ait asgari
verinin tutulduğu objedir.
Bu verilerden bazıları card token oluşturulurken halihazırda bildiğiniz satışa
ait sipariş numarası, sipariş tutarı, para birimi gibi bilgilerdir.</p>

<p>Satış verileriyle gönderilecek tüm veriler string formatına dönüştürülmelidir.</p>
<h3 id='kart-token-olusturma'>Kart Token Oluşturma</h3><pre class="highlight javascript tab-javascript"><code><span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">createToken</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// response is an object returned by the xhr call.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">card_token</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Bir Paytrek.Form örneğiniz hazır olduğunda
Kart belirteci almak için yapmanız gereken
tek şey, <code>createToken ()</code> yöntemini çağırmaktır.</p>

<p><code>createToken ()</code> yöntemi tek bir argüman alır:
Bu argüman Paytrek API tarafından callback fonksiyonu olarak
dönülen ilk cevaptır.</p>
<h3 id='kart-token-cevabi'>Kart Token Cevabı</h3><pre class="highlight javascript tab-javascript"><code><span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">createToken</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">card_token</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// handle failure case</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// handle success case</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<p>Paytrek Tokenization API&#39;nin döndürdüğü HTTP yanıtı her zaman
JSON formatında olur.
<code>Card_token</code> veya <code>error</code> anahtarlarına  sahip olacaktır.</p>
<h3 id='form-elementleri'>Form Elementleri</h3>
<blockquote>
<p> Form Örneği;</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"checkout"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"payment_token"</span> <span class="na">name=</span><span class="s">"payment_token"</span> <span class="na">value=</span><span class="s">""</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"number"</span><span class="nt">&gt;</span>Kredi Kartı Numarası:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"number"</span> <span class="na">data-paytrek-field=</span><span class="s">"number"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"chname"</span><span class="nt">&gt;</span>Kart Sahibi İsmi:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"chname"</span> <span class="na">data-paytrek-field=</span><span class="s">"card-holder-name"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"expmonth"</span><span class="nt">&gt;</span>Son Kullanım Ayı:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"expmonth"</span> <span class="na">data-paytrek-field=</span><span class="s">"expiration-month"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;option&gt;</span>1..12<span class="nt">&lt;/option&gt;</span>
     <span class="nt">&lt;/select&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"expyear"</span><span class="nt">&gt;</span>Son Kullanım Yılı:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"expyear"</span> <span class="na">data-paytrek-field=</span><span class="s">"expiration-year"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;option&gt;</span>2014..2020<span class="nt">&lt;/option&gt;</span>
     <span class="nt">&lt;/select&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
<p>Yeni bir Paytrek.Form nesnesi oluşturduktan sonra,
form öğenizin altındaki bir özelliğe sahip tüm düğümlere
“data-paytrek-field” denir.</p>

<p>Yan panelde data-paytrek-field niteliğine sahip alanlara sahip form örneği yer almaktadır.</p>
<h2 id='paytrek-creditcard'>Paytrek.CreditCard</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">creditCard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">CreditCard</span><span class="p">(</span>
    <span class="nx">number</span><span class="p">,</span>
    <span class="nx">cvc</span><span class="p">,</span>
    <span class="nx">expMonth</span><span class="p">,</span>
    <span class="nx">expYear</span><span class="p">,</span>
    <span class="nx">cardHolderName</span>
<span class="p">);</span>
</code></pre>
<p>Bu sınıf, kredi kartı ile ilgilenen bir JavaScript sınıfıdır.
API isteği yapmadan önce kart verilerinin doğrulaması bu sınıf aracılığıyla yapılır.</p>
<h3 id='yapi-2'>Yapı</h3>
<p>Paytrek.CreditCard’ın ilgili öğesi, aşağıdaki sırayla 5 argüman alır:
Kredi kartı numarası, cvc, son kullanma tarihi, son kullanma tarihi, kart sahibinin adı.</p>
<h3 id='validasyonlar'>Validasyonlar</h3><pre class="highlight javascript tab-javascript"><code><span class="k">if</span> <span class="p">(</span><span class="nx">creditCard</span><span class="p">.</span><span class="nx">isValid</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">// credit card is valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
   <span class="c1">// credit card is invalid</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">creditCard</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<p>Sahip olduğunuz kredi kartı örneğini doğrulayabilirsiniz.
Paytrek.CreditCard sınıfı Kredi kartı numarası, cvc, son
kullanma tarihi ve kart sahibinin adı bilgilerinin geçerliliğini
sorgular.</p>

<p>Aşağıdakiler Paytrek.CreditCard&#39;ın sağladığı yöntemlerin listesidir.</p>

<table><thead>
<tr>
<th style="text-align: left">Yöntem Adı</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">isCvcValid()</td>
<td style="text-align: left">CVC nin geçerliliğini sorgular.</td>
</tr>
<tr>
<td style="text-align: left">isCardNumberValid()</td>
<td style="text-align: left">Kredi Kartı numarasının nin geçerliliğini sorgular.</td>
</tr>
<tr>
<td style="text-align: left">isdExpirationDateValid()</td>
<td style="text-align: left">Son Kullanım tarihinin geçerliliğini sorgular.</td>
</tr>
<tr>
<td style="text-align: left">isCardHolderNameValid()</td>
<td style="text-align: left">Kart sahibinin adının geçerliliğini sorgular.</td>
</tr>
</tbody></table>

<p>Yukarıdaki tüm yöntemleri çağırmak zorunda değilsiniz.
Bir kredi kartı nesnesini doğrulamak için sadece isValid () yöntemini
çağırmanız yeterlidir.</p>
<h2 id='odeme-secenekleri'>Ödeme Seçenekleri</h2>
<p>PaytrekJS, her satış için kart tipi ücretlendirmelerini görebileceğiniz
bir başka özelliğe daha sahiptir. Bu özelliğin kullanımı için
Paytrek hesap yöneticinizle irtibata geçiniz.</p>
<h3 id='kart-tipi-ucretlendirmeleri'>Kart Tipi Ücretlendirmeleri</h3>
<blockquote>
<p>Kart tipi ücretlendirmeleri için örnek kullanım;</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">getPaymentOptions</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
    <span class="cm">/*
    {"options":
      {"TRY": {
        "tx_fee": "0.96",
        "grand_total": "101.96",
        "total": "101.00",
        "tx_fee_rate": "0.95"}
      }
    }*/</span>
<span class="p">});</span>
</code></pre>
<p>Paytrek, PaytrekJs aracılığıyla müşterilerinizin kart türü başına ücretlerini
ayarlamanıza ayrıca ödeme şeklinizdeki masrafları anında görmenize ve güncellemenize
izin verir.</p>
<h2 id='paytrek-checkout'>Paytrek.Checkout</h2>
<p>Paytrek.Checkout widget ile Web sitenize gömülü ödeme
formunu inanılmaz derecede kolay şekilde entegre edebilirsiniz.</p>

<p>Bu widget müşteriyi verilen <code>return_url</code> <a href="#">1</a> e yönlendirecektir.
Bu <code>return_url</code> e müşteri ödeme işlemi gerçekleştirdikten sonra <code>sale_token</code> ile
yönlendirilecektir,
Bu adımdan sonra <code>sale_token</code> kullanılarak <a href="#satis">Sale Resource</a> üzerinden
üye işyeri satışın son durumunu sorgulayabilir.</p>

<p>Satışın durumu  <strong>Paid</strong>, <strong>Ready to Send</strong>,
    <strong>Authorized</strong> veya <strong>PreAuthorized</strong> ise bu satışın başarılı bir şekilde gerçekleştiğini
    gösterir.</sub></p>
<h3 id='yapi-3'>Yapı</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">Checkout</span><span class="p">(</span><span class="nx">saleData</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Paytrek.Checkout implementation</span>
<span class="p">}</span>
</code></pre>
<p>Paytrek.Checkout öğesi <code>saleData</code> ve <code>options</code> olmak üzere
iki parametre ile çalışmaktadır.Bu iki parametre de JavaScript Hash olarak
tutulur. Sale Data içerisinde yer alan keyler Sale Kaynağına gönderilecek
argümanları oluşturur.</p>
<h3 id='constructor-options'>Constructor Options</h3>
<blockquote>
<p>Modal Form</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// your order form</span>
<span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">forms</span><span class="p">[</span><span class="s1">'order-form'</span><span class="p">];</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="c1">// your form handling logic</span>
    <span class="c1">// ...</span>
    <span class="c1">// everything is fine, display the checkout widget</span>
    <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Checkout</span><span class="p">({</span>
        <span class="na">amount</span><span class="p">:</span> <span class="s2">"10.20"</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
        <span class="na">customer_first_name</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
        <span class="na">customer_last_name</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
        <span class="na">customer_email</span><span class="p">:</span> <span class="s2">"johndoe@gmail.com"</span><span class="p">,</span>
        <span class="na">billing_state</span><span class="p">:</span> <span class="s2">"CA"</span><span class="p">,</span>
        <span class="na">billing_city</span><span class="p">:</span> <span class="s2">"San Francisco"</span><span class="p">,</span>
        <span class="na">billing_country</span><span class="p">:</span> <span class="s2">"US"</span><span class="p">,</span>
    <span class="p">}).</span><span class="nx">displayForm</span><span class="p">();</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Gömülü Form</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">saleData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">amount</span><span class="p">:</span> <span class="s2">"10.20"</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
  <span class="na">customer_first_name</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="na">customer_last_name</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="na">customer_email</span><span class="p">:</span> <span class="s2">"johndoe@gmail.com"</span><span class="p">,</span>
  <span class="na">billing_state</span><span class="p">:</span> <span class="s2">"CA"</span><span class="p">,</span>
  <span class="na">billing_city</span><span class="p">:</span> <span class="s2">"San Francisco"</span><span class="p">,</span>
  <span class="na">billing_country</span><span class="p">:</span> <span class="s2">"US"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">openModal</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">widgetParent</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'widget-parent'</span><span class="p">),</span>
  <span class="na">errorCb</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">errorMessage</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">errorMessage</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">beforeCb</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// form validation is handled here</span>
      <span class="c1">// if you want to stop paytrek widget to charge</span>
      <span class="c1">// you should do event.preventDefault()</span>
  <span class="p">},</span>
  <span class="na">afterCb</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// post-charge callback</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Checkout</span><span class="p">(</span><span class="nx">saleData</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">displayForm</span><span class="p">();</span>
</code></pre>
<p>Paytrek.Checkout ikinci parametre olarak options parametresini alır. Bu parametre
aşağıdaki tabloda gösterilen değişken isimlerini içerebilir.</p>

<table><thead>
<tr>
<th style="text-align: left">Özellik Adı</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">openModal</td>
<td style="text-align: left">Sayfanıza yerleştirilmiş formu görüntülemek veya kalıcı bir kutu olarak açmak isteyip istemediğinizi belirler. Varsayılan değer <code>true</code>.</td>
</tr>
<tr>
<td style="text-align: left">widgetParent</td>
<td style="text-align: left">Modal kutusunu görüntülemek istemiyorsanız, gömülü formu görüntülemek istediğiniz üst DOM Öğesi.</td>
</tr>
<tr>
<td style="text-align: left">beforeCb</td>
<td style="text-align: left">Ödeme işleminden önce çalıştırmak istediğiniz <code>callback</code> metodu.</td>
</tr>
<tr>
<td style="text-align: left">afterCb</td>
<td style="text-align: left">Ödeme işleminden önce sonra istediğiniz <code>callback</code> metodu.</td>
</tr>
<tr>
<td style="text-align: left">errorCb</td>
<td style="text-align: left">Ödeme işlemi sırasında herhangi bir hata oluştuğunda çalıştırılacak <code>callback</code> metodu.</td>
</tr>
</tbody></table>
<h1 id='test-kartlari'>Test Kartları</h1>
<p>Kullanabileceğiniz test kartları listesi verilmiştir.</p>

<table><thead>
<tr>
<th>Card Number</th>
<th style="text-align: left">Bank</th>
<th style="text-align: center">Expiration</th>
<th style="text-align: center">Cvc</th>
<th style="text-align: center">3D Pass</th>
</tr>
</thead><tbody>
<tr>
<td>4508034508034509</td>
<td style="text-align: left">İşbank</td>
<td style="text-align: center">12/20</td>
<td style="text-align: center">000</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td>4506347043358536</td>
<td style="text-align: left">YKB</td>
<td style="text-align: center">08/19</td>
<td style="text-align: center">000</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td>4508034508034509</td>
<td style="text-align: left">ING</td>
<td style="text-align: center">12/18</td>
<td style="text-align: center">000</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td>4355084355084358</td>
<td style="text-align: left"> Akbank</td>
<td style="text-align: center">12/18</td>
<td style="text-align: center">000</td>
<td style="text-align: center">a</td>
</tr>
<tr>
<td>5456165456165454</td>
<td style="text-align: left"> Finansbank</td>
<td style="text-align: center">12/18</td>
<td style="text-align: center">000</td>
<td style="text-align: center">a</td>
</tr>
</tbody></table>
<h1 id='hata-kodlari'>Hata Kodları</h1>
<p>Paytrek özelinde tüm bankalara ait hata kodlarının eşleştirildiği bir hata kodu
tablosu bulunmaktadır. Ödeme işlemi esnasında banka tarafından alınacak bir hata
Paytrek tablosunda karşılığı bulunarak <code>error_code</code> ve <code>error_message</code> olarak
cevap içerisinde üye işyerine dönülür.</p>

<p>Tablo Aşağıda Verilmiştir</p>

<table><thead>
<tr>
<th style="text-align: center">Kod</th>
<th style="text-align: left">Üye İşyeri Mesajı</th>
<th style="text-align: left">Müşteri Mesajı</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">30001</td>
<td style="text-align: left">Invalid Business Member</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10004</td>
<td style="text-align: left">Transaction has been denied / General Rejection</td>
<td style="text-align: left">Transaction has been denied, please contact your bank</td>
</tr>
<tr>
<td style="text-align: center">10006</td>
<td style="text-align: left">ID Control / Honor With Id</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30003</td>
<td style="text-align: left">Invalid Amount</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10009</td>
<td style="text-align: left">Invalid Account / Card Number</td>
<td style="text-align: left">Your transaction has been terminated, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">10020</td>
<td style="text-align: left">Insufficient Limit</td>
<td style="text-align: left">Transaction has been denied, please check your card limit.</td>
</tr>
<tr>
<td style="text-align: center">10023</td>
<td style="text-align: left">Card has Expired</td>
<td style="text-align: left">Transaction has been denied, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">10026</td>
<td style="text-align: left">The transaction has not been cleared to the cardholder</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">10029</td>
<td style="text-align: left">Security Breach</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30009</td>
<td style="text-align: left">Incompatible data received</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30011</td>
<td style="text-align: left">Encryption Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10033</td>
<td style="text-align: left">Wrong / Invalid Cvv</td>
<td style="text-align: left">Transaction has been denied, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">30013</td>
<td style="text-align: left">Authentication Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10038</td>
<td style="text-align: left">Rejection - Invalid Card</td>
<td style="text-align: left">The transaction has been denied, please proceed with another card.</td>
</tr>
<tr>
<td style="text-align: center">30015</td>
<td style="text-align: left">Double Transaction Transfer</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">30016</td>
<td style="text-align: left">Daily Count Error/ Cancellation has been rejected</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">20015</td>
<td style="text-align: left">System Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">20017</td>
<td style="text-align: left">Connection Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30033</td>
<td style="text-align: left">Incorrect Extra Point Parameter</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30037</td>
<td style="text-align: left">Invalid Installment</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30041</td>
<td style="text-align: left">Invalid Pos</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30050</td>
<td style="text-align: left">End of the Day Transactions must be Completed</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30053</td>
<td style="text-align: left">Invalid Currency</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30090</td>
<td style="text-align: left">Invalid Repeating Payment Duration</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">10046</td>
<td style="text-align: left">The Request can be Fraud, Ip of cardholder did not clear the check</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30119</td>
<td style="text-align: left">Invalid Order Number.</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">30120</td>
<td style="text-align: left">Order Number is in Use</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">10049</td>
<td style="text-align: left">Maximum Retry Count Exceeded</td>
<td style="text-align: left">Maximum retry count exceeded, Please try again later.</td>
</tr>
<tr>
<td style="text-align: center">99999</td>
<td style="text-align: left">Card Declined</td>
<td style="text-align: left">Card Declined</td>
</tr>
<tr>
<td style="text-align: center">10050</td>
<td style="text-align: left">FR-Rejected</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">40000</td>
<td style="text-align: left">Unable to Authenticate</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to verify cardholder.</td>
</tr>
<tr>
<td style="text-align: center">40004</td>
<td style="text-align: left">Cardholder not Participating</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">40005</td>
<td style="text-align: left">Directory Server not Responding</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">40006</td>
<td style="text-align: left">Authentication Failure</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">40007</td>
<td style="text-align: left">3D Secure System Error</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">10001</td>
<td style="text-align: left">Please call your bank for authorization</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">10003</td>
<td style="text-align: left">Block The Card</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30002</td>
<td style="text-align: left">Invalid Transaction</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10010</td>
<td style="text-align: left">Unidentified Issuer Bank</td>
<td style="text-align: left">Your transaction has been terminated, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">30005</td>
<td style="text-align: left">Cancellation could not be completed / The original could not be found</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">10016</td>
<td style="text-align: left">Too Many Pin Entry Attempts, Block the Card</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">10032</td>
<td style="text-align: left">Invalid Date</td>
<td style="text-align: left">Transaction has been denied, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">30118</td>
<td style="text-align: left">The Request is not included in the Group&#39;s Allowed Day/Hour Setting</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">30128</td>
<td style="text-align: left">Vpos Lock Control Failure</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">UNKNOWN_ERROR</td>
<td style="text-align: left">Unknown Error</td>
<td style="text-align: left">An unexpected error has occurred, please try again later</td>
</tr>
<tr>
<td style="text-align: center">9000</td>
<td style="text-align: left">Preauth Transaction Cannot Void</td>
<td style="text-align: left">Preauth Transaction Cannot Void</td>
</tr>
<tr>
<td style="text-align: center">9001</td>
<td style="text-align: left">3D Fields Do Not Match</td>
<td style="text-align: left">3D Fields Do Not Match</td>
</tr>
<tr>
<td style="text-align: center">40002</td>
<td style="text-align: left">Cardholder or Issuer Bank not Enrolled in 3D Secure System</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
</tbody></table>
<h1 id='paytrek-koleksiyon-cuzdani'>Paytrek Koleksiyon Cüzdanı</h1>
<p>Paytrek Cüzdan, maaşlarınız için kazanç, komisyon veya bağlılık vb. Ödemeler yapmak için kullanılan ödeme platformudur.
Platform, ödemeleri tamamlamak için iki ana bileşenden oluşmaktadır
ve ödeme akışı. Bunlar <a href="https://paytrekwallet.docs.apiary.io/#introduction/paytrek-wallet-api">Wallet API</a> and <a href="https://paytrekwallet.docs.apiary.io/#introduction/payee-dashboard">Payee Dashboard</a>.</p>
<h1 id='reference'><a href='#reference' style='color: white; text-decoration: none; color:#7ccfaf' > Reference </a></h1><h1 id='satis'>Satış</h1>
<p>Satış Kaynağı, satışla ilgili bilgileri içeren bir satış nesnesi oluşturmak için kullanılır.
Ödeme işlemi gerçekleşmeden önce ödemesi yapılacak ilgili nesne bu kaynak aracılığıyla oluşturulur.
Bu kaynak ödeme yapılmadan önce işlemin tanımlanmasını sağlar.
Bir ödeme Ön Otorizasyonlu olarak gerçekleştirilecek ise satış parametrelerinden (<code>pre_auth</code>  <code>true</code>)
olarak gönderilmelidir, ardından satış <code>capture</code> kaynağı kullanılarak <code>capture</code> edilir.</p>

<p>Oluşturulan bir satış nesnesine ait bilgileri almak için, <code>sale_token</code>
Sale Kaynağına <code>GET</code> HTTP metodu ile gönderilmelidir.</p>

<p>Bu isteğin cevabında işlem bilgileri ve durumu ile ilgili satış detaylarını döndürür.</p>

<p>(eg. <code>/api/v2/sale/f25356bab177416ba7b518cc1bd8a596/</code>)</p>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>
<h2 id='satis-olusturma'>Satış Oluşturma</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>201
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521014319</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:58:39.519205Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T07:58:39.519707Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/sale/</td>
</tr>
</tbody></table>

<p>Yan panelde örnek bir satış oluşturma isteği ve aşağıdaki tabloda bu istek
içerisinde gönderebileceğiniz yada göndermeniz gereken parametrelerin
listesi verilmiştir.</p>

<table><thead>
<tr>
<th style="text-align: left">Üye İşyeri Mesajı</th>
<th style="text-align: center">Tip</th>
<th style="text-align: left">Müşteri Mesajı</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">3 harfli para birimi ISO kodu.</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Siparişin Idsi.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: center">number, zorunlu</td>
<td style="text-align: left">Sipariş Tutarı.</td>
</tr>
<tr>
<td style="text-align: left">customer_first_name</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Müşteri adı.</td>
</tr>
<tr>
<td style="text-align: left">customer_last_name</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Müşteri soyadı.</td>
</tr>
<tr>
<td style="text-align: left">customer_email</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Müşteri email adresi.</td>
</tr>
<tr>
<td style="text-align: left">customer_ip_address</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Müşteri ip adresi.</td>
</tr>
<tr>
<td style="text-align: left">billing_address</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Müşteri fatura adresi.</td>
</tr>
<tr>
<td style="text-align: left">billing_city</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Müşteri fatura şehri.</td>
</tr>
<tr>
<td style="text-align: left">billing_state</td>
<td style="text-align: center">string</td>
<td style="text-align: left">Müşterinin faturalandırma durumu, ABD ve CA için posta kısaltmaları kullanın.</td>
</tr>
<tr>
<td style="text-align: left">billing_country</td>
<td style="text-align: center">string, zorunlu</td>
<td style="text-align: left">Müşterinin fatura ülkesi, 2 harfli ISO kodu.</td>
</tr>
<tr>
<td style="text-align: left">billing_zipcode</td>
<td style="text-align: center">string, opsiyonel</td>
<td style="text-align: left">Müşterinin fatura zip kodu.</td>
</tr>
<tr>
<td style="text-align: left">billing_phone</td>
<td style="text-align: center">string, opsiyonel</td>
<td style="text-align: left">Müşterinin fatura telfon numarası.</td>
</tr>
<tr>
<td style="text-align: left">items</td>
<td style="text-align: center">object, zorunlu</td>
<td style="text-align: left">Siparişe ait ürünlerin listesi.</td>
</tr>
<tr>
<td style="text-align: left">return_url</td>
<td style="text-align: center">string</td>
<td style="text-align: left">Ödeme tamamlandığında müşterinin yönlendirileceği sayfanın URL&#39;i.</td>
</tr>
<tr>
<td style="text-align: left">hosted_payment</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">Ortak ödeme sayfası kullanım tercihi.</td>
</tr>
<tr>
<td style="text-align: left">hosted_payment_url</td>
<td style="text-align: center">string</td>
<td style="text-align: left">Ortak ödeme sayfası URL&#39;i.</td>
</tr>
<tr>
<td style="text-align: left">installment</td>
<td style="text-align: center">number, zorunlu</td>
<td style="text-align: left">Taksit bilgisi.</td>
</tr>
<tr>
<td style="text-align: left">secure_option</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">Ödemenin 3D li ya da 3Dsiz geçme kararı.(Varsayılan: false)</td>
</tr>
<tr>
<td style="text-align: left">half_secure</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">3D kayıt kontrolünün (mdstatus) 2, 3, 4 ile sonuçlanması durumunda satışın devam etme kararı.</td>
</tr>
<tr>
<td style="text-align: left">pre_auth</td>
<td style="text-align: center">boolean</td>
<td style="text-align: left">Satışın Ön otorizasyonlu olup olmayacağı kararı. (Default: false)</td>
</tr>
<tr>
<td style="text-align: left">sale_data</td>
<td style="text-align: center">object</td>
<td style="text-align: left">Satışa ait ekstra bilgi alanı.</td>
</tr>
</tbody></table>
<h2 id='satisi-inceleme'>Satışı İnceleme</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521014392</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:58:39.519205Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T07:58:39.519707Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/sale/<strong>sale_token</strong>/</td>
</tr>
</tbody></table>
<h1 id='odeme'>Ödeme</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cvc"</span><span class="p">:</span><span class="s2">"000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803******4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issuer_bank_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_charge"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?token=c626f49193114e24ad0980752b749318"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Charge Kaynağı kredi kartı ile ödeme yapabilmenize imkan sağlayan kaynaktır.
Ödeme işlemi yapmadan önce <a href="#satis-olusturma">satış oluşturma</a> kaynağını kullanarak bir satış oluşturmanız gerekir.</p>

<p>Eğer ödeme işleminin ön otorizasyonlu olarak gerçekleşmesi için
<code>pre_auth</code> parametresi <code>true</code> olarak gönderilmelidir. Ardından ilgili satış &#39;capture&#39;
edilir.</p>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/charge/</td>
</tr>
</tbody></table>

<p>Bir ödeme işlemi yapılırken kullanılan kartın tekrardan kullanımı için saklanmasını
istiyorsanız <code>save_card</code> parametresini <code>true</code> olarak belirlemeniz gerekir.
Bu parametre <code>true</code> olacak şekilde istek yapıldığında kart &#39;vault&#39; edilerek saklanır
ve cevap içerisinde <code>card_token</code> parametresi dönülür.</p>

<p>Aşağıdaki tabloda bir ödeme işlemi için gönderilmesi gereken parametrelerin listesi verilmiştir.</p>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left"> Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">sale_token</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Sale kaynağı tarafından oluşturulan satışa ait token.</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Kredi kartı numarası.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Kredi kartı son kullanım tarihi MM/YY formatında.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Karta ait CVC numarası.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">Kart üzerindeki isim.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">save_card</td>
<td style="text-align: left">boolean(Varsayılan: true)</td>
<td style="text-align: left">Kart saklama parametresi.</td>
</tr>
</tbody></table>
<h1 id='direkt-odeme-2'>Direkt Ödeme</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cvc"</span><span class="p">:</span><span class="s2">"000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803******4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready to Send"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issuer_bank_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521016061</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sale"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ref_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"secure_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:27:40.467500Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_number_last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exchange_rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_fee_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fraud_risk"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46196</span><span class="p">,</span><span class="w">
                </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521016061</span><span class="p">,</span><span class="w">
                </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:27:40.411031Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"risk_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"decision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCEPT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reviewer_decision"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reviewer_comments"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bin_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ip_region"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ip_country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ip_city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ref_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"info_codes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sale"</span><span class="p">:</span><span class="w"> </span><span class="mi">90810</span><span class="p">,</span><span class="w">
                </span><span class="s2">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"paytrek_ref_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1mlHu6ljNGxC5CZY0nVs"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"paytrek_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T09:27:40.301574Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92489820e4914f23b2db8039205cb64b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_charge"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:27:40.302118Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?token=92489820e4914f23b2db8039205cb64b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Bu endpoint size herhangi bir sale isteğinde bulunmadan doğrudan kredi kartı
kullanarak ödeme gerçekleştirme imkanı sağlar.</p>

<p>Eğer ödeme işleminin ön otorizasyonlu olarak gerçekleşmesini istiyorsanız
pre_auth parametresi true olarak gönderilmelidir. Ardından ilgili satış capture
edilir.</p>

<p>Bir ödeme işlemi yapılırken kullanılan kartın tekrardan kullanımı için saklanmasını
istiyorsanız <code>save_card</code> parametresini <code>true</code> olarak belirlemeniz gerekir.
Bu parametre <code>true</code> olacak şekilde istek yapıldığında kart vault edilerek saklanır
ve cevap içerisinde <code>card_token</code> parametresi dönülür. <a href="#kart-saklama-ile-odeme-2">Charge with token</a>.</p>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/direct_charge/</td>
</tr>
</tbody></table>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left"> Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Para biriminin 3 harfli ISO kodu.</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Sipariş numarası.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Siparişe ait tutar bilgisi.</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Kredi kartı numarası.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Kredi kartı son kullanma tarihi, MM/YY formatında.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Karta ait CVC numarası.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Kart hamilinin adı.</td>
</tr>
<tr>
<td style="text-align: left">installment</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Taksit bilgisi.</td>
</tr>
<tr>
<td style="text-align: left">secure_option</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Ödemenin 3D güvenli ödeme işlemi olup olmayacağı kararı.(Varsayılan: false)</td>
</tr>
<tr>
<td style="text-align: left">half_secure</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">3D kayıt kontrolünün mdstatus) 2, 3, 4 ile sonuçlanması durumunda satışın devam etme kararı.</td>
</tr>
<tr>
<td style="text-align: left">return_url</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Ödeme işlemi gerçekleştikten sonra müşterinin yönlendirileceği URL</td>
</tr>
<tr>
<td style="text-align: left">pre_auth</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Ödemenin ön otorizasyonlu geçip geçmediği kontrolü(Varsayılan: false)</td>
</tr>
<tr>
<td style="text-align: left">items</td>
<td style="text-align: left">object, required</td>
<td style="text-align: left">Siparişe ait öğelerin listesi.</td>
</tr>
<tr>
<td style="text-align: left">customer_first_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşterinin adı.</td>
</tr>
<tr>
<td style="text-align: left">customer_last_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşterinin soyadı.</td>
</tr>
<tr>
<td style="text-align: left">customer_email</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri emaili.</td>
</tr>
<tr>
<td style="text-align: left">customer_ip_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri Ip adresi.</td>
</tr>
<tr>
<td style="text-align: left">billing_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri fatura adresi.</td>
</tr>
<tr>
<td style="text-align: left">billing_city</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri fatura şehri.</td>
</tr>
<tr>
<td style="text-align: left">billing_state</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Müşterinin faturalandırma durumu, ABD ve CA için posta kısaltmaları kullanın.</td>
</tr>
<tr>
<td style="text-align: left">billing_country</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Müşterinin fatura ülkesi, 2 harfli ISO kodu.</td>
</tr>
<tr>
<td style="text-align: left">billing_zipcode</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Müşterinin fatura zip kodu.</td>
</tr>
<tr>
<td style="text-align: left">billing_phone</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Müşterinin fatura telfon numarası.</td>
</tr>
<tr>
<td style="text-align: left">sale_data</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Satışa ait ekstra bilgi alanı</td>
</tr>
</tbody></table>
<h1 id='vault'>Vault</h1>
<p>Paytrek, müşterinizin PAN verilerini Paytrek&#39;in güvenli kasasında saklamanıza olanak tanır.
Bu endpointi kullanarak, Kredi kartı verilerini sadece müşterilerinizden yalnızca
bir kez almanız gerekecek ve istediğiniz zaman ödeme işlemi için aynı verileri kullanabileceksiniz.</p>

<ul>
<li>Müşterilerin formunuza girdiği kredi kartı verilerini doğrulayın.</li>
<li>Kredi kartı verileriyle Vault endpointine POST isteği gönderin.</li>
<li>Paytrek size bir kart token cevap olarak döner.</li>
<li>Bu token ile &quot;charge_with_token&quot; endpointi ile ödemenizi gerçekleştirin.</li>
</ul>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>
<h2 id='vault-card'>Vault Card</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521015364</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b54e2f7-58ad-40e3-9a71-f3bc9333c406"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:16:04.001969Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b561169d7a2d467f885a7aedf7b10cf3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, zorunlu</td>
<td style="text-align: left">Kart numarası.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Kartın son kullanma tarihi, MM/YY formatında.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, zorunlu</td>
<td style="text-align: left">Kartın CVC numarası.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Kart üzerindeki isim.</td>
</tr>
<tr>
<td style="text-align: left">card_label</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Kart alan adı.</td>
</tr>
</tbody></table>
<h2 id='vault-edilen-karti-goruntuleme'>Vault Edilen Kartı Görüntüleme</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521015364</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b54e2f7-58ad-40e3-9a71-f3bc9333c406"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:16:04.001969Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b561169d7a2d467f885a7aedf7b10cf3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/<strong>card_token</strong>/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">card_token</td>
<td style="text-align: left">Vault edilen karta ait kart token&#39;ı</td>
</tr>
</tbody></table>
<h2 id='vault-edilen-kartlari-listeleme'>Vault Edilen Kartları Listeleme</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1540562575</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aac3a45b-8ced-4e4c-8ebb-c88ceff272f6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-26T13:59:45.207410Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1540562575</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0f46ba98-d9d2-4fd3-93e4-6d23b4b48839"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-26T13:59:46.445397Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">card_user_id</td>
<td style="text-align: left">opsiyonel</td>
<td style="text-align: left">Kart kullanıcısın idsi (Vault oluştururken bu değer belirlenebilir)</td>
</tr>
<tr>
<td style="text-align: center">card_label</td>
<td style="text-align: left">opsiyonel</td>
<td style="text-align: left">Kart etiketi</td>
</tr>
</tbody></table>
<h2 id='vault-edilen-karti-silme'>Vault Edilen Kartı Silme</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>204
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">DELETE</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/<strong>card_token</strong>/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">card_token</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Vault işleminden sonra tarafınıza iletilen token</td>
</tr>
</tbody></table>
<h1 id='kart-saklama-ile-odeme-2'>Kart Saklama ile Ödeme</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="s2">"5f20ca43d47244509949eb32c80e522a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_token"</span><span class="p">:</span><span class="s2">"914dcf0b-236b-44e9-9b31-3925af88cdc5"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803******4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_product"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f20ca43d47244509949eb32c80e522a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_risk"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dcc_currency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issuer_bank_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_charge"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?token=5f20ca43d47244509949eb32c80e522a"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Bu endpoint müşterinin kart tokenı kullanarak ödeme gerçekleştirmesini sağlar.
Burada herhangi bir tutar ya da nicelik parametresi kullanılmaz. Yalnızca sale
endpointi ile oluşturulan sale e ait <code>sale_token</code> bilgisi ve vault edilen karta
ait <code>card_token</code> bilgisi ile ödeme gerçekleştirilir.</p>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/charge_with_token/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Sale endpointi ile oluşturulan salee ait token.</td>
</tr>
<tr>
<td style="text-align: center">card_token</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Vault endpointi ile vault edilen karta ait token.</td>
</tr>
</tbody></table>
<h1 id='capture'>Capture</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16a810b503c4a91bb5c3d883617530a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.72"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.72"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">97510</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Bu endpoint ön otorizasyonda kalmış bir satışın capture edilmesini sağlar.
Bir satışı capture etmek için capture endpointine ilgili satışın tokenı ile POST isteği atmanız yeterlidir.
Ön otorizasyon durumunda olmayan bir satış capture edilemez.
Ön otorizasyonda bir satış oluşturmak için ilgili satışı oluştururken <code>pre_auth</code> parametresini <code>true</code> göndermeniz
gerekmektedir.
Bir satış fraud kontrolü sonucunda <code>REVIEW</code> durumunda ise bu satış ön otorizasyonda oluşturulur ve tarafınızdan
capture edilmesi gerekir.</p>

<p>Ön otorizasyonlu satışın akışı:</p>

<ul>
<li><code>pre_auth</code> parametresi <code>true</code> olacak şekilde direct_charge endpointine istekte bulunulur.</li>
<li>Bu işlemden sonra capture endpointine <code>sale_token</code> ile istekte bulunulur.</li>
</ul>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/capture/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Sale endpointi ile oluşturulan sale&#39;e ait token</td>
</tr>
<tr>
<td style="text-align: center">comments</td>
<td style="text-align: left">string, opsiyonel</td>
<td style="text-align: left">Fraud kontrol sonucunun kabul edilmesine dair yorum.</td>
</tr>
</tbody></table>
<h1 id='iptal'>İptal</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16a810b503c4a91bb5c3d883617530a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.72</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cancel endpointi bir satışı iptal ya da iade etmek için kullanılır.
Cancel endpointine bir istekte bulunulduğunda satışın iptali ya da tam iadesi gerçekleşir.
Bir satışla ilgili parçalı iade yapmak için <code>Refund</code> endpointi kullanılmalıdır.
İki durumda da cevapta tutar bilgileri yer alacaktır.
Eğer bir satış fraud kararı sonucu <code>REVIEW</code> da ise ve bu satış iptal edilirse satışa ait <code>REJECTED</code> a çevrilir.</p>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/cancel/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Sale endpointi ile oluşturulan sale&#39;e ait token.</td>
</tr>
<tr>
<td style="text-align: center">comments</td>
<td style="text-align: left">string, opsiyonel</td>
<td style="text-align: left">Fraud kontrol sonucunun kabul edilmesine dair yorum.</td>
</tr>
</tbody></table>
<h1 id='iade'>İade</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.70</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"total_refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">89890</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16a810b503c4a91bb5c3d883617530a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.72</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>İade endpointi bir satışın iadesini gerçekleştirmek için kullanılır.
Bir satışa ait tam iade isteğinde bulunduğunda; Paytrek tarafından öncelikle iptal işlemi gerçekleştirilir.
Cancel işlemi başarılı sonuçlanmaz ise, satışın iadesi gerçekleştirilmeye çalışılır.
Bir satışa ait parçalı iade yapılmak istendiğinde tutar parametresi gönderilmelidir.</p>

<p>İki durumda da cevapta tutar bilgileri yer alacaktır.
Eğer bir satış fraud kararı sonucu <code>REVIEW</code> da ise ve bu satış iptal edilirse satışa ait <code>REJECTED</code> a çevrilir.</p>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/refund/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Ödemesi yapılan sale&#39;e ait <code>sale_token</code></td>
</tr>
<tr>
<td style="text-align: center">amount</td>
<td style="text-align: left">number, opsiyonel</td>
<td style="text-align: left">İade edilen tutar.</td>
</tr>
<tr>
<td style="text-align: center">comments</td>
<td style="text-align: left">string, opsiyonel</td>
<td style="text-align: left">Fraud kontrol sonucunun kabul edilmesine dair yorum.</td>
</tr>
</tbody></table>
<h1 id='odeme-plani'>Ödeme Planı</h1>
<p>Paytrek size tekrarlayan ödemeleriniz için ödeme planı oluşturma olanağı sağlar.
Bu endpointe istekte bulunmak için kullanılacak alanlar <a href="#direkt-odeme-2"><code>Direct Charge</code></a>
endpointi ile <code>recurring</code> harici aynıdır.</p>

<p>Yan paneldeki JSON bloğu yeni bir plan oluşturmak için gereken parametreleri göstermektedir.</p>
<pre class="highlight json tab-json"><code><span class="s2">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recurring_period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-30"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recurring_frequency"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Eğer <code>start_date</code> parametresi belirlenmediyse <strong>ilk ödeme</strong> bugün gerçekleştirilir.</p>

<p>Ayrıca, abonelik planı oluşturulurken <code>save_card: true</code> ayarlanması zorunludur.</p>
<h3 id='tekrarlayan-odeme-periotlari'>Tekrarlayan Ödeme Periotları</h3>
<ul>
<li>Günlük</li>
<li>Haftalık</li>
<li>Aylık</li>
<li>Yıllık</li>
</ul>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>
<h2 id='odeme-plani-olusturma'> Ödeme Planı Oluşturma</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"recurring"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recurring_period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-30"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recurring_frequency"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"save_card"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com.tr/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34410"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accept@paytrek.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fraud_check_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20180424141314"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"total_refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">89890</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accept@paytrek.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr-tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34410"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529389543</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20180424141314"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T07:25:42.720412Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8639b66510424eca9b104f5ad0be634e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"cancelled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"plan_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0351fe3-4c05-4611-8c38-c07ff33679e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fixed_currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1ad588a-9291-4d14-a4ee-ec94d07389ab"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9b5ee804-5399-423a-a0b7-794f1145ea4a"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73a3eea0-06f8-4113-9412-7c32f976e2e4"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"active_card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.520000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.421093Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com.tr/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69daf8cb6fe741a885cad8219bdb9dac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/subscription_plan/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Para biriminin 3 harfli ISO kodu.</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Sipariş numarası.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Siparişe ait tutar bilgisi.</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Kredi kartı numarası.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Kredi kartı son kullanma tarihi, MM/YY formatında.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Karta ait CVC numarası.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">Kart hamilinin adı.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">recurring</td>
<td style="text-align: left">object, zorunlu</td>
<td style="text-align: left">Ödeme planı özellikleri [1]</td>
</tr>
<tr>
<td style="text-align: left">installment</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Taksit bilgisi.</td>
</tr>
<tr>
<td style="text-align: left">secure_option</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Ödemenin 3D güvenli ödeme işlemi olup olmayacağı kararı.(Varsayılan: false)</td>
</tr>
<tr>
<td style="text-align: left">half_secure</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">3D kayıt kontrolünün (mdstatus) 2, 3, 4 ile sonuçlanması durumunda satışın devam etme kararı.</td>
</tr>
<tr>
<td style="text-align: left">return_url</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Ödeme işlemi gerçekleştikten sonra müşterinin yönlendirileceği URL</td>
</tr>
<tr>
<td style="text-align: left">pre_auth</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Ödemenin ön otorizasyonlu geçip geçmediği kontrolü(Varsayılan: false)</td>
</tr>
<tr>
<td style="text-align: left">items</td>
<td style="text-align: left">object, required</td>
<td style="text-align: left">Siparişe ait öğelerin listesi.</td>
</tr>
<tr>
<td style="text-align: left">customer_first_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşterinin adı.</td>
</tr>
<tr>
<td style="text-align: left">customer_last_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşterinin soyadı.</td>
</tr>
<tr>
<td style="text-align: left">customer_email</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri emaili.</td>
</tr>
<tr>
<td style="text-align: left">customer_ip_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri Ip adresi.</td>
</tr>
<tr>
<td style="text-align: left">billing_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri fatura adresi.</td>
</tr>
<tr>
<td style="text-align: left">billing_city</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Müşteri fatura şehri.</td>
</tr>
<tr>
<td style="text-align: left">billing_state</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Müşterinin faturalandırma durumu, ABD ve CA için posta kısaltmaları kullanın.</td>
</tr>
<tr>
<td style="text-align: left">billing_country</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Müşterinin fatura ülkesi, 2 harfli ISO kodu.</td>
</tr>
<tr>
<td style="text-align: left">billing_zipcode</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Müşterinin fatura zip kodu.</td>
</tr>
<tr>
<td style="text-align: left">billing_phone</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Müşterinin fatura telfon numarası.</td>
</tr>
<tr>
<td style="text-align: left">sale_data</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Satışa ait ekstra bilgi alanı</td>
</tr>
</tbody></table>

<p>[1] Recurring parametresinin içeriği(JSON);</p>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Ödeme planı adı.</td>
</tr>
<tr>
<td style="text-align: left">start_date</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Ödeme planının başlangıç tarihi.</td>
</tr>
<tr>
<td style="text-align: left">recurring_period</td>
<td style="text-align: left">string, zorunlu</td>
<td style="text-align: left">Ödeme periodu</td>
</tr>
<tr>
<td style="text-align: left">recurring_frequency</td>
<td style="text-align: left">number, zorunlu</td>
<td style="text-align: left">Her periotta ödeme tekrarlama sıklığı.</td>
</tr>
</tbody></table>
<h2 id='odeme-plani-goruntuleme'>Ödeme Planı Görüntüleme</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accept@paytrek.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr-tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34410"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529389543</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20180424141314"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T07:25:42.720412Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8639b66510424eca9b104f5ad0be634e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"cancelled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"plan_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0351fe3-4c05-4611-8c38-c07ff33679e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fixed_currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1ad588a-9291-4d14-a4ee-ec94d07389ab"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9b5ee804-5399-423a-a0b7-794f1145ea4a"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73a3eea0-06f8-4113-9412-7c32f976e2e4"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"active_card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.520000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.421093Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com.tr/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69daf8cb6fe741a885cad8219bdb9dac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/subscription_plan/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">plan_token</td>
<td style="text-align: left">Ödeme planı tokenı</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h2 id='odeme-plani-guncelleme'>Ödeme Planı Güncelleme</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Test Store Recurring Payments"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"cancelled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vaults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0351fe3-4c05-4611-8c38-c07ff33679e0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1ad588a-9291-4d14-a4ee-ec94d07389ab"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9b5ee804-5399-423a-a0b7-794f1145ea4a"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73a3eea0-06f8-4113-9412-7c32f976e2e4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"active_card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.520000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">PUT</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/subscription_plan/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">plan_token</td>
<td style="text-align: left">Ödeme planı tokenı</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h1 id='taksitler'>Taksitler</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
     </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1520321002</span><span class="p">,</span><span class="w">
     </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"510118"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.00"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"banks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"denizbank"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"loyalty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bonus"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"is_commercial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
             </span><span class="s2">"installments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"113.08"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"113.08"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44.31"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"113.08"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32.12"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117.54"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.69"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117.54"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21.41"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117.54"</span><span class="w">
                 </span><span class="p">}</span><span class="w">
             </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Verilen <code>bin_number</code> ve <code>amount</code> bilgilerine bakılarak. Alternatif
taksit listesini ve bu taksit bilgilerine ait seçeneklerin gösterildiği endpointtir.</p>

<p>İstekte bulunmak için aşağıdaki linkten gerekli parametreleri yeni bir sekme açarak bulabilir
e aynı zamanda anahtar konsolunu kullanarak sekmeler arasında da istekte bulunabilirsiniz.</p>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Kaynak(Endpoint)</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/installments/?bin_number=bin_number&amp;amount=amount</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">bin_number</td>
<td style="text-align: left">optional</td>
<td style="text-align: left">Kartın ilk 6 hanesi</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">-</td>
<td style="text-align: left">Taksitlendirme planına ait tutar.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
