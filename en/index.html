
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="../stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="../javascripts/all_nosearch.js"></script>
  </head>

  <body class="en en_index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="../images/logo.png" class="logo" alt="Logo" />
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#paytrek" class="toc-h1 toc-link" data-title=" Paytrek"><a href="#paytrek" style="color: white; text-decoration: none; color:#7ccfaf"> Paytrek</a></a>
          </li>
          <li>
            <a href="#payment-flows" class="toc-h1 toc-link" data-title="Payment Flows">Payment Flows</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#paytrek-hosted-payment-flow" class="toc-h2 toc-link" data-title="Paytrek Hosted Payment Flow">Paytrek Hosted Payment Flow</a>
                  </li>
                  <li>
                    <a href="#direct-charge" class="toc-h2 toc-link" data-title="Direct Charge">Direct Charge</a>
                  </li>
                  <li>
                    <a href="#tokenization-flow" class="toc-h2 toc-link" data-title=" Tokenization Flow"> Tokenization Flow</a>
                  </li>
                  <li>
                    <a href="#pre-authorization" class="toc-h2 toc-link" data-title=" Pre-Authorization"> Pre-Authorization</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#3d-transactions" class="toc-h1 toc-link" data-title="3D Transactions">3D Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#3d-transactions-on-paytrek-hosted-payment-form" class="toc-h2 toc-link" data-title="3D Transactions on Paytrek Hosted Payment Form">3D Transactions on Paytrek Hosted Payment Form</a>
                  </li>
                  <li>
                    <a href="#3d-transactions-on-direct-charge-flow" class="toc-h2 toc-link" data-title="3D Transactions on Direct Charge Flow">3D Transactions on Direct Charge Flow</a>
                  </li>
                  <li>
                    <a href="#3d-transactions-on-tokenization-flow" class="toc-h2 toc-link" data-title="3D Transactions on Tokenization Flow">3D Transactions on Tokenization Flow</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#paytrek-api" class="toc-h1 toc-link" data-title="Paytrek API">Paytrek API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#headers" class="toc-h2 toc-link" data-title="Headers">Headers</a>
                  </li>
                  <li>
                    <a href="#endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#paytrek-environment-urls" class="toc-h2 toc-link" data-title="Paytrek Environment URLs">Paytrek Environment URLs</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#paytrekjs-library" class="toc-h1 toc-link" data-title="PaytrekJS Library">PaytrekJS Library</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#integrating-paytrekjs" class="toc-h2 toc-link" data-title="Integrating PaytrekJS">Integrating PaytrekJS</a>
                  </li>
                  <li>
                    <a href="#include-paytrekjs" class="toc-h2 toc-link" data-title="Include PaytrekJS">Include PaytrekJS</a>
                  </li>
                  <li>
                    <a href="#configuring-paytrekjs" class="toc-h2 toc-link" data-title="Configuring PaytrekJS">Configuring PaytrekJS</a>
                  </li>
                  <li>
                    <a href="#paytrek-form" class="toc-h2 toc-link" data-title="Paytrek.Form">Paytrek.Form</a>
                  </li>
                  <li>
                    <a href="#paytrek-creditcard" class="toc-h2 toc-link" data-title="Paytrek.CreditCard">Paytrek.CreditCard</a>
                  </li>
                  <li>
                    <a href="#payment-options" class="toc-h2 toc-link" data-title="Payment Options">Payment Options</a>
                  </li>
                  <li>
                    <a href="#paytrek-checkout" class="toc-h2 toc-link" data-title="Paytrek.Checkout">Paytrek.Checkout</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#test-cards" class="toc-h1 toc-link" data-title="Test Cards">Test Cards</a>
          </li>
          <li>
            <a href="#error-codes" class="toc-h1 toc-link" data-title="Error Codes">Error Codes</a>
          </li>
          <li>
            <a href="#paytrek-collection-wallet" class="toc-h1 toc-link" data-title="Paytrek Collection Wallet">Paytrek Collection Wallet</a>
          </li>
          <li>
            <a href="#reference" class="toc-h1 toc-link" data-title=" Reference "><a href="#reference" style="color: white; text-decoration: none; color:#7ccfaf"> Reference </a></a>
          </li>
          <li>
            <a href="#sale" class="toc-h1 toc-link" data-title="Sale">Sale</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-sale" class="toc-h2 toc-link" data-title="Create Sale">Create Sale</a>
                  </li>
                  <li>
                    <a href="#retrieve-sale" class="toc-h2 toc-link" data-title="Retrieve Sale">Retrieve Sale</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#charge" class="toc-h1 toc-link" data-title="Charge">Charge</a>
          </li>
          <li>
            <a href="#direct-charge-2" class="toc-h1 toc-link" data-title="Direct Charge">Direct Charge</a>
          </li>
          <li>
            <a href="#vault" class="toc-h1 toc-link" data-title="Vault">Vault</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#vaulting-card" class="toc-h2 toc-link" data-title="Vaulting Card">Vaulting Card</a>
                  </li>
                  <li>
                    <a href="#retrieve-vaulted-card" class="toc-h2 toc-link" data-title="Retrieve Vaulted Card">Retrieve Vaulted Card</a>
                  </li>
                  <li>
                    <a href="#listing-vaulted-cards" class="toc-h2 toc-link" data-title="Listing Vaulted Cards">Listing Vaulted Cards</a>
                  </li>
                  <li>
                    <a href="#delete-vaulted-card" class="toc-h2 toc-link" data-title="Delete Vaulted Card">Delete Vaulted Card</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#charge-with-token" class="toc-h1 toc-link" data-title="Charge With Token">Charge With Token</a>
          </li>
          <li>
            <a href="#capture" class="toc-h1 toc-link" data-title="Capture">Capture</a>
          </li>
          <li>
            <a href="#cancel" class="toc-h1 toc-link" data-title="Cancel">Cancel</a>
          </li>
          <li>
            <a href="#refund" class="toc-h1 toc-link" data-title="Refund">Refund</a>
          </li>
          <li>
            <a href="#subscription-plan" class="toc-h1 toc-link" data-title="Subscription Plan">Subscription Plan</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-subscription-plan" class="toc-h2 toc-link" data-title="Create Subscription Plan">Create Subscription Plan</a>
                  </li>
                  <li>
                    <a href="#retrieve-subscription-plan" class="toc-h2 toc-link" data-title="Retrieve Subscription Plan">Retrieve Subscription Plan</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#installments" class="toc-h1 toc-link" data-title="Installments">Installments</a>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='paytrek'><a href='#paytrek' style='color: white; text-decoration: none; color:#7ccfaf' > Paytrek</a></h1>
<p>Paytrek creates the ability to process transactions in more than
100 countries as well as ensuring the
highest-level cardholder information safety with its PCI DSS Level 1
certification. Paytrek introduces a payment system that is easy-to-use
and free of pricey legal installation requirements.</p>
<h1 id='payment-flows'>Payment Flows</h1>
<p>Following payment flows are suggested ones for easy-to-use integrations.</p>

<p>In order to be able to use Paytrek you must be a valid merchant.
If you don’t have a username and password to use in the API calls,
please sign up at <a href="https://sandbox.paytrek.com/sandbox/signup">https://sandbox.paytrek.com/sandbox/signup</a>
Once your integration is fully completed Paytrek Integration
Team will provide the live credentials.</p>

<p>Paytrek provides you following ways to integrate:</p>

<ul>
<li>Paytrek Hosted Payment Form</li>
<li>Direct Charge</li>
<li>Tokenization Flow</li>
<li>Pre-Authorization Flow</li>
</ul>
<h2 id='paytrek-hosted-payment-flow'>Paytrek Hosted Payment Flow</h2>
<ol>
<li>The customer submits an order on merchant web site.</li>
<li>Merchant requests a token from Paytrek via the <a href="#sale">Sale</a> Resource.</li>
<li>Paytrek returns the merchant a <code>sale_token</code>.</li>
<li>Merchant redirects the customer to checkout form on Paytrek with the token[1].</li>
<li>Customer enters card data on Paytrek Hosted Form.</li>
<li>Paytrek processes the payment.</li>
<li>Paytrek receives a response from the related processor.</li>
<li>Paytrek redirects the customer to your web site with the <code>sale_token</code>[2].</li>
</ol>

<p><sub> * [1] Sandbox hosted form is located at
    https://sandbox.paytrek.com and Production hosted form
    is located at https://secure.paytrek.com.
    You should redirect the user to these urls with
    the token parameter added to the url.
    (ie. https://sandbox.paytrek.com/?token=TOKEN_VALUE)</sub></p>

<p><sub> * [2] You must check the status of the sale via Sale
    Resource once the customer lands to your web site.
    If the sale status is one of <strong>Paid</strong>, <strong>Ready to Send</strong>,
    <strong>Authorized</strong> and <strong>PreAuthorized</strong> it means the sale has been
    successfully charged.</sub></p>
<h2 id='direct-charge'>Direct Charge</h2>
<ol>
<li>The customer checks out on your web site.</li>
<li>Customer enters card data on your web site.</li>
<li>You charge on Paytrek via the <a href="#direct-charge-2">Direct Charge</a> Resource.</li>
<li>Paytrek processes the payment.</li>
<li>Paytrek receives a response from the related processor.</li>
<li>Paytrek returns you a response with the payment result.</li>
</ol>
<h2 id='tokenization-flow'> Tokenization Flow</h2>
<ol>
<li>The customer checks out on your web site.</li>
<li>Customer enters card data on your form and and you make a call to <code>Create Card Token</code> with PaytrekJS.</li>
<li>You save the card token and create a sale via <a href="#sale">Sale</a> Resource.</li>
<li>You make a call to <a href="#charge-with-token">Charge with Card Token</a> Resource with card token and sale token.</li>
<li>Paytrek processes the payment.</li>
<li>Paytrek receives a response from the related processor.</li>
<li>Paytrek returns you a response with the payment result.</li>
</ol>
<h2 id='pre-authorization'> Pre-Authorization</h2>
<ol>
<li>The customer checks out on your web site.</li>
<li>Customer enters card data on your form and you make a call to <a href="#direct-charge">Direct Charge</a> Resource with <code>pre_auth: true</code> option.</li>
<li>You make a call to <a href="#capture">Capture</a> endpoint with <code>sale_token</code>.</li>
<li>Paytrek processes the payment.</li>
<li>Paytrek receives a response from the related processor.</li>
<li>Paytrek returns you a response with the payment result.</li>
</ol>
<h1 id='3d-transactions'>3D Transactions</h1>
<p>You or your customers may choose a charge to be processed
through 3D secure systems provided by MasterCard or Visa.
In this case, Paytrek handles 3D transactions both on Hosted Form
and Tokenization Flow.</p>

<p>When you choose a charge to be processed through 3D secure system, your API request
must include <code>secure_option</code> parameter with <code>true</code> variable.</p>
<h2 id='3d-transactions-on-paytrek-hosted-payment-form'>3D Transactions on Paytrek Hosted Payment Form</h2>
<ol>
<li>The customer checks out on your web site.</li>
<li>You request a token from Paytrek via the <a href="#sale">Sale</a> Resource.</li>
<li>Paytrek returns you a <code>sale_token</code>.</li>
<li>Redirect your customer to hosted form on Paytrek with the <code>sale_token</code>. [1]</li>
<li>Customer enters card data.</li>
<li>Paytrek starts a 3D transaction, redirects the customer to 3D secure system.</li>
<li>Customer enters the PIN on the 3D secure system.</li>
<li>3D Secure system redirects the customer back to Paytrek.</li>
<li>Paytrek processes the payment if 3D secure result is a success or halts the process if 3D secure result is failure.</li>
<li>Paytrek redirects the customer to your web site with the <code>sale_token</code>. [2]</li>
</ol>

<p><sub> * [1] Sandbox hosted form is located at
    <a href="https://sandbox.paytrek.com">https://sandbox.paytrek.com</a> and Production hosted form
    is located at <a href="https://secure.paytrek.com">https://secure.paytrek.com</a>.
    You should redirect the user to these urls with
    the token parameter added to the url.
    (ie. <a href="https://sandbox.paytrek.com/?token=TOKEN_VALUE">https://sandbox.paytrek.com/?token=TOKEN_VALUE</a>))</sub></p>

<p><sub> * [2] You must check the status of the sale via Sale
    Resource once the customer lands to your web site.
    If the sale status is one of <strong>Paid</strong>, <strong>Ready to Send</strong>,
    <strong>Authorized</strong> and <strong>PreAuthorized</strong> it means the sale has been
    successfully charged.</sub></p>
<h2 id='3d-transactions-on-direct-charge-flow'>3D Transactions on Direct Charge Flow</h2>
<ol>
<li>The customer checks out on your web site.</li>
<li>Customer enters card data on your web site.</li>
<li>You charge on Paytrek via the <a href="#direct-charge">Direct Charge</a> Resource.</li>
<li>Paytrek returns you a response with a field <code>forward_url</code>.</li>
<li>You redirect the customer to the given <code>forward_url</code>.</li>
<li>Customer is redirected to Paytrek and Paytrek redirects the customer to 3D secure system.</li>
<li>Customer enters the PIN on the 3D secure system.</li>
<li>3D Secure system redirects the customer back to Paytrek.</li>
<li>Paytrek processes the payment if 3D secure result is a success or halts the process if 3D secure result is failure.</li>
<li>Paytrek redirects the customer to your web site. [1]</li>
</ol>

<p><sub> * [3] Paytrek redirects the customer to the given
    <code>return_url</code> field when creating a new sale via Sale Resource.</sub></p>
<h2 id='3d-transactions-on-tokenization-flow'>3D Transactions on Tokenization Flow</h2>
<ol>
<li>The customer checks out on your web site.</li>
<li>Customer enters card data on your form and and you make a call to <code>Create Card Token</code> with PaytrekJS.</li>
<li>You save the <code>card_token</code> and create a sale via <a href="#sale">Sale Resource</a>.</li>
<li>You send a request to <a href="#charge-with-token">Charge with Card Token Resource</a>  with the <code>card_token</code> you obtained and the sale you have created.</li>
<li>Paytrek returns you a response with a field <code>forward_url</code>.</li>
<li>You redirect the customer to the given <code>forward_url</code>.</li>
<li>Customer is redirected to Paytrek and Paytrek redirects the customer to 3D secure system.</li>
<li>Customer enters the PIN on the 3D secure system.</li>
<li>3D Secure system redirects the customer back to Paytrek.</li>
<li>Paytrek processes the payment if 3D secure result is a success or halts the process if 3D secure result is failure.</li>
<li>Paytrek redirects the customer to your web site. [1]</li>
</ol>

<p><sub> * [1] Paytrek redirects the customer to the given
    return_url field when creating a new sale via Sale Resource.</sub></p>
<h1 id='paytrek-api'>Paytrek API</h1>
<p>Paytrek gateway API is designed with industry standard best practices,
based on RESTful architecture.</p>
<h2 id='authentication'>Authentication</h2>
<p>All requests must be authenticated using <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">Basic Auth</a>.</p>

<p>If you don’t have a username(api_key) and password(secret) to use in the API calls,
please sign up at <a href="https://sandbox.paytrek.com/sandbox/signup">https://sandbox.paytrek.com/sandbox/signup</a>.</p>

<p>Your username(api_key) and password(secret) are located on <a href="https://sandbox.paytrek.com/dashboard/account_info/">Account Info</a> page.</p>
<h2 id='headers'>Headers</h2>
<p>All requests must include <code>Content-Type: application/json</code></p>
<h2 id='endpoints'>Endpoints</h2>
<table><thead>
<tr>
<th>Resource</th>
<th style="text-align: left">Endpoint</th>
<th style="text-align: center">Allowed HTTP Methods</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#sale"><code>Sale</code></a></td>
<td style="text-align: left"><code>/api/v2/sale/</code></td>
<td style="text-align: center"><code>POST</code> <code>GET</code></td>
</tr>
<tr>
<td><a href="#charge"><code>Charge</code></a></td>
<td style="text-align: left"><code>/api/v2/charge/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#direct-charge"><code>Direct Charge</code></a></td>
<td style="text-align: left"><code>/api/v2/direct_charge/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#vault"><code>Vault</code></a></td>
<td style="text-align: left"><code>/api/v2/vault/</code></td>
<td style="text-align: center"><code>POST</code> <code>GET</code></td>
</tr>
<tr>
<td><a href="#charge-with-token"><code>Charge With Token</code></a></td>
<td style="text-align: left"><code>/api/v2/charge_with_token/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#capture"><code>Capture</code></a></td>
<td style="text-align: left"><code>/api/v2/capture/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#cancel"><code>Cancel</code></a></td>
<td style="text-align: left"><code>/api/v2/cancel/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#refund"><code>Refund</code></a></td>
<td style="text-align: left"><code>/api/v2/refund/</code></td>
<td style="text-align: center"><code>POST</code></td>
</tr>
<tr>
<td><a href="#installments"><code>Installments</code></a></td>
<td style="text-align: left"><code>/api/v2/installments/</code></td>
<td style="text-align: center"><code>GET</code></td>
</tr>
</tbody></table>
<h2 id='paytrek-environment-urls'>Paytrek Environment URLs</h2>
<table><thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">Sandbox (Test)</td>
<td style="text-align: left"><a href="https://sandbox.paytrek.com">https://sandbox.paytrek.com</a></td>
</tr>
<tr>
<td style="text-align: left">Live Environment</td>
<td style="text-align: left"><a href="https://secure.paytrek.com.tr">https://secure.paytrek.com.tr</a></td>
</tr>
</tbody></table>
<h1 id='paytrekjs-library'>PaytrekJS Library</h1>
<p>PaytrekJS is a small library that will help you integrate Paytrek’s
tokenization service with your client side application.
In this section we are going to inspect this library.</p>
<h2 id='integrating-paytrekjs'>Integrating PaytrekJS</h2>
<p>PaytrekJS does not interfere with your form submissions or event handlers.
It only requires you to call it once everything you’d like to perform
on your form’s onsubmit handler is done.</p>
<h2 id='include-paytrekjs'>Include PaytrekJS</h2><pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"https://secure.paytrek.com.tr/static/v2/js/paytrek.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<blockquote>
<p>For Paytrek Sandbox, please include the following:</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"https://sandbox.paytrek.com/static/v2/js/paytrek.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre>
<p>In order to be able to use PaytrekJS you need to include it in your web page.
You can either include it at the footer or the header.</p>
<h2 id='configuring-paytrekjs'>Configuring PaytrekJS</h2>
<p>PaytrekJS has some configuration options that you must set.
The options are explained as follows:</p>
<h3 id='paytrekjs-options'>PaytrekJS Options</h3><pre class="highlight javascript tab-javascript"><code><span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">"publishableKey"</span>          <span class="p">:</span> <span class="s2">"myPaytrekPublishableKey"</span><span class="p">,</span>
    <span class="s2">"host"</span>                    <span class="p">:</span> <span class="s2">"https://secure.paytrek.com"</span><span class="p">,</span>
    <span class="s2">"orderId"</span>                 <span class="p">:</span> <span class="s2">"1420199350"</span><span class="p">,</span>
    <span class="s2">"currency"</span>                <span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
    <span class="s2">"amount"</span>                  <span class="p">:</span> <span class="s2">"1299.00"</span><span class="p">,</span>
    <span class="s2">"removeCardElements"</span>      <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"resetCardElementValues"</span>  <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s2">"cardTokenField"</span>       <span class="p">:</span> <span class="s2">"card_token"</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"payment_form"</span><span class="p">);</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">"submit"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle your form submission.</span>
    <span class="c1">// everything seems good so far let's get a card token</span>
    <span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span><span class="p">);</span>
    <span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">createToken</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="s2">"errors"</span><span class="p">))</span> <span class="p">{</span>
            <span class="c1">// there's a validation error or there's a server side error</span>
            <span class="c1">// from Paytrek that you must handle.</span>
            <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">// we have the token, let's use it.</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">card_token</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</code></pre>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">publishableKey</td>
<td style="text-align: left">string The publishable key that you’ve obtained from Paytrek Dashboard.</td>
</tr>
<tr>
<td style="text-align: left">host</td>
<td style="text-align: left">string Paytrek host that you are going to make the request. You need to use the secure.paytrek.com.tr host otherwise you have to use the secure.paytrek.com host.</td>
</tr>
<tr>
<td style="text-align: left">orderId</td>
<td style="text-align: left">string The order id for the sale that you will use when creating a sale. Order ids must be unique for each sale.</td>
</tr>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string The 3 letter currency symbol for the sale. (ie: TRY, USD, EUR)</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">string The amount of the sale. (ie: 23.99)</td>
</tr>
<tr>
<td style="text-align: left">dccEnabled</td>
<td style="text-align: left">true or false Whether you wish to enable listing dynamic currency options.</td>
</tr>
<tr>
<td style="text-align: left">removeCardElements</td>
<td style="text-align: left">true or false. Whether Paytrek.Form should remove all credit card related elements from your form after obtaining a payment token.</td>
</tr>
<tr>
<td style="text-align: left">resetCardElementValues</td>
<td style="text-align: left">true or false. Whether Paytrek.Form should reset all credit card related elements’ value to an empty string after obtaining a card token.</td>
</tr>
<tr>
<td style="text-align: left">cardTokenField</td>
<td style="text-align: left">string. Id of the hidden input field of which value will be set to the payment token after obtaining it.</td>
</tr>
<tr>
<td style="text-align: left">useVaultField</td>
<td style="text-align: left">string Id of the checkbox field of which value will be checked if the customer wanted their card data to be stored.</td>
</tr>
</tbody></table>

<p>The following is a code sample to show you how you can embed PaytrekJS in
your form submissions.</p>

<p>PaytrekJS consists of two components that we will cover:</p>
<h2 id='paytrek-form'>Paytrek.Form</h2>
<p>This class file is a JavaScript object mapping to your checkout form. It will map your credit card number, cvc,
expiration date and card holder name fields to its own properties.</p>
<h3 id='constructor'> Constructor</h3><pre class="highlight javascript tab-javascript"><code><span class="c1">// creating a Paytrek.Form object with an id</span>
<span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="s2">"myFormId"</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// creating a Paytrek.Form object with a form element</span>
<span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"myFormId"</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">paytrekForm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Form</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">forms</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
</code></pre>
<p>You can instantiate Paytrek.Form class by providing your form’s id attribute or the form element itself,
an optional configuration object and an object related to sale information.</p>

<p>If the constructor cannot find the form, it will throw an Error.</p>
<h3 id='sale-data-object'>Sale Data Object</h3>
<p>Sale Data is an object that holds the minimum information
regarding a sale that you will create after obtaining a card token.
These are the data that you know beforehand creating a card token or
sale such as the sale’s order id, sale’s amount and currency.</p>

<p>All the data that will be sent through sale data must be converted to string.</p>
<h3 id='creating-card-token'>Creating Card Token</h3><pre class="highlight javascript tab-javascript"><code><span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">createToken</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="c1">// response is an object returned by the xhr call.</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">card_token</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Once you have a Paytrek.Form instance ready,
all you have to do is to call the <code>createToken()</code> method on your
instance in order to obtain a card token.</p>

<p><code>createToken()</code> method takes only one argument:
A callback function as an argument of which the first
argument is the response returned from the Paytrek API.</p>
<h3 id='card-token-response'>Card Token Response</h3><pre class="highlight javascript tab-javascript"><code><span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">createToken</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">card_token</span> <span class="o">===</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// handle failure case</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// handle success case</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<p>The HTTP response that Paytrek Tokenization API returns will always
be in JSON format. It will have either <code>card_token</code> or <code>errors</code> keys.</p>
<h3 id='form-elements'>Form Elements</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight html tab-html"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"checkout"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"payment_token"</span> <span class="na">name=</span><span class="s">"payment_token"</span> <span class="na">value=</span><span class="s">""</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"number"</span><span class="nt">&gt;</span>Credit Card Number:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"number"</span> <span class="na">data-paytrek-field=</span><span class="s">"number"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"chname"</span><span class="nt">&gt;</span>Card Holder Name:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;input</span> <span class="na">id=</span><span class="s">"chname"</span> <span class="na">data-paytrek-field=</span><span class="s">"card-holder-name"</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"expmonth"</span><span class="nt">&gt;</span>Expiration Month:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"expmonth"</span> <span class="na">data-paytrek-field=</span><span class="s">"expiration-month"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;option&gt;</span>1..12<span class="nt">&lt;/option&gt;</span>
     <span class="nt">&lt;/select&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;div&gt;</span>
     <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"expyear"</span><span class="nt">&gt;</span>Expiration Year:<span class="nt">&lt;/label&gt;</span>
     <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"expyear"</span> <span class="na">data-paytrek-field=</span><span class="s">"expiration-year"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;option&gt;</span>2014..2020<span class="nt">&lt;/option&gt;</span>
     <span class="nt">&lt;/select&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre>
<p>Once you create a new Paytrek.Form object, it will search for all the
nodes under your form element that have an attribute
called “data-paytrek-field”. There is an example of a
form with fields having data-paytrek-field attribute in left panel.</p>
<h2 id='paytrek-creditcard'>Paytrek.CreditCard</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">creditCard</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">CreditCard</span><span class="p">(</span>
    <span class="nx">number</span><span class="p">,</span>
    <span class="nx">cvc</span><span class="p">,</span>
    <span class="nx">expMonth</span><span class="p">,</span>
    <span class="nx">expYear</span><span class="p">,</span>
    <span class="nx">cardHolderName</span>
<span class="p">);</span>
</code></pre>
<p>This is a JavaScript class that takes care of the credit
card data and its validation before making an actual API request.</p>
<h3 id='constructor-2'>Constructor</h3>
<p>Paytrek.CreditCard’s constructor takes 5 arguments in the following order:
credit card number, cvc, expiration month, expiration year, card holder name.</p>
<h3 id='validations'>Validations</h3><pre class="highlight javascript tab-javascript"><code><span class="k">if</span> <span class="p">(</span><span class="nx">creditCard</span><span class="p">.</span><span class="nx">isValid</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">// credit card is valid</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
   <span class="c1">// credit card is invalid</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">creditCard</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<p>You can validate the credit card instance you have.
Paytrek.CreditCard class supports validating
credit card number, cvc, expiration date and the card holder name.</p>

<p>The following are the list of methods that Paytrek.CreditCard provides.</p>

<table><thead>
<tr>
<th style="text-align: left">Method Name</th>
<th style="text-align: left">explanation</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">isCvcValid()</td>
<td style="text-align: left">Validates the cvc.</td>
</tr>
<tr>
<td style="text-align: left">isCardNumberValid()</td>
<td style="text-align: left">Validates the credit card number.</td>
</tr>
<tr>
<td style="text-align: left">isdExpirationDateValid()</td>
<td style="text-align: left">Validates the expiration date.</td>
</tr>
<tr>
<td style="text-align: left">isCardHolderNameValid()</td>
<td style="text-align: left">Validates the card holder name.</td>
</tr>
</tbody></table>

<p>You don’t have to call all of the methods above
in order to validate a credit card object. You can just call the
isValid() method.</p>
<h2 id='payment-options'>Payment Options</h2>
<p>PaytrekJS provides two more nice features which are card type fees
and dynamic currency options per sale.
Please seek advice from your Paytrek Account
Representative whether your current subscription type supports these features.</p>
<h3 id='card-type-fees'>Card Type Fees</h3>
<p>As Paytrek lets you set up fees per card type of your customers, PaytrekJS
also lets you see and update the costs on the fly on your payment form.</p>
<h3 id='dynamic-currencies'>Dynamic Currencies</h3>
<blockquote>
<p>Example;</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="nx">paytrekForm</span><span class="p">.</span><span class="nx">getPaymentOptions</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
    <span class="cm">/*
    {"options":
      {"TRY": {
        "tx_fee": "0.96",
        "grand_total": "101.96",
        "total": "101.00",
        "tx_fee_rate": "0.95"}
      }
    }*/</span>
<span class="p">});</span>
</code></pre>
<p>Paytrek lets your customers to make payments in their own currencies.
A nice, enabling feature of PaytrekJS is that it lets you do the same
for your customers in your own payment pages.
If you set dccEnabled property of Paytrek.Options to true,
while creating a card token PaytrekJS will also return a
list of available currencies. You can then display this list of
available currencies in your card form and satisfy your customers.</p>
<h2 id='paytrek-checkout'>Paytrek.Checkout</h2>
<p>Paytrek.Checkout widget allows you to integrate
embedded checkout form on your web site incredibly easy.
This widget will redirect the customer to the given
<code>return_url</code>. In this <code>return_url</code>, you must query the status of
the sale via <a href="#sale">Sale Resource</a>.
If the sale status is one of <strong>Paid</strong>, <strong>Ready to Send</strong>, <strong>Authorized</strong> and
<strong>PreAuthorized</strong> it means the sale has been successfully charged.</p>
<h3 id='constructor-3'>Constructor</h3><pre class="highlight javascript tab-javascript"><code><span class="kd">function</span> <span class="nx">Checkout</span><span class="p">(</span><span class="nx">saleData</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Paytrek.Checkout implementation</span>
<span class="p">}</span>
</code></pre>
<p>Paytrek.Checkout constructor takes two arguments, named
saleData and options. Both saleData and options arguments
are JavaScript Hashes. Keys for saleData argument are the fields for Sale Resource.</p>
<h3 id='constructor-options'>Constructor Options</h3>
<blockquote>
<p>Modal Form</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// your order form</span>
<span class="kd">var</span> <span class="nx">form</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">forms</span><span class="p">[</span><span class="s1">'order-form'</span><span class="p">];</span>
<span class="nx">form</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    <span class="c1">// your form handling logic</span>
    <span class="c1">// ...</span>
    <span class="c1">// everything is fine, display the checkout widget</span>
    <span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Checkout</span><span class="p">({</span>
        <span class="na">amount</span><span class="p">:</span> <span class="s2">"10.20"</span><span class="p">,</span>
        <span class="na">currency</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
        <span class="na">customer_first_name</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
        <span class="na">customer_last_name</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
        <span class="na">customer_email</span><span class="p">:</span> <span class="s2">"johndoe@gmail.com"</span><span class="p">,</span>
        <span class="na">billing_state</span><span class="p">:</span> <span class="s2">"CA"</span><span class="p">,</span>
        <span class="na">billing_city</span><span class="p">:</span> <span class="s2">"San Francisco"</span><span class="p">,</span>
        <span class="na">billing_country</span><span class="p">:</span> <span class="s2">"US"</span><span class="p">,</span>
    <span class="p">}).</span><span class="nx">displayForm</span><span class="p">();</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Embeded Form</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">saleData</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">amount</span><span class="p">:</span> <span class="s2">"10.20"</span><span class="p">,</span>
  <span class="na">currency</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
  <span class="na">customer_first_name</span><span class="p">:</span> <span class="s2">"John"</span><span class="p">,</span>
  <span class="na">customer_last_name</span><span class="p">:</span> <span class="s2">"Doe"</span><span class="p">,</span>
  <span class="na">customer_email</span><span class="p">:</span> <span class="s2">"johndoe@gmail.com"</span><span class="p">,</span>
  <span class="na">billing_state</span><span class="p">:</span> <span class="s2">"CA"</span><span class="p">,</span>
  <span class="na">billing_city</span><span class="p">:</span> <span class="s2">"San Francisco"</span><span class="p">,</span>
  <span class="na">billing_country</span><span class="p">:</span> <span class="s2">"US"</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">openModal</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="na">widgetParent</span><span class="p">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'widget-parent'</span><span class="p">),</span>
  <span class="na">errorCb</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">errorMessage</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">errorMessage</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">beforeCb</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// form validation is handled here</span>
      <span class="c1">// if you want to stop paytrek widget to charge</span>
      <span class="c1">// you should do event.preventDefault()</span>
  <span class="p">},</span>
  <span class="na">afterCb</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// post-charge callback</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="k">new</span> <span class="nx">Paytrek</span><span class="p">.</span><span class="nx">Checkout</span><span class="p">(</span><span class="nx">saleData</span><span class="p">,</span> <span class="nx">options</span><span class="p">).</span><span class="nx">displayForm</span><span class="p">();</span>
</code></pre>
<p>Paytrek.Checkout accepts options as the second positional argument.</p>

<table><thead>
<tr>
<th style="text-align: left">Options</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">openModal</td>
<td style="text-align: left">Sets if you would like to display the form embedded in your page or open as a modal box. Defaults to true.</td>
</tr>
<tr>
<td style="text-align: left">widgetParent</td>
<td style="text-align: left">The parent DOM Element where you want to display the embedded form if you don’t wish to display the modal box.</td>
</tr>
<tr>
<td style="text-align: left">beforeCb</td>
<td style="text-align: left">The callback function that you want to run before charging takes place.</td>
</tr>
<tr>
<td style="text-align: left">afterCb</td>
<td style="text-align: left">The callback function that you want to run after charging takes place.</td>
</tr>
<tr>
<td style="text-align: left">errorCb</td>
<td style="text-align: left">The callback function that you want to run when charging fails.</td>
</tr>
</tbody></table>
<h1 id='test-cards'>Test Cards</h1>
<p>Here is a list of test credit cards that you can use.</p>

<table><thead>
<tr>
<th>Card Number</th>
<th style="text-align: left">Bank</th>
<th style="text-align: center">Expiration</th>
<th style="text-align: center">Cvc</th>
<th style="text-align: center">3D Pass</th>
</tr>
</thead><tbody>
<tr>
<td>4508034508034509</td>
<td style="text-align: left">İşbank</td>
<td style="text-align: center">12/20</td>
<td style="text-align: center">000</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td>4506347043358536</td>
<td style="text-align: left">YKB</td>
<td style="text-align: center">08/19</td>
<td style="text-align: center">000</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td>4508034508034509</td>
<td style="text-align: left">ING</td>
<td style="text-align: center">12/18</td>
<td style="text-align: center">000</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td>4355084355084358</td>
<td style="text-align: left"> Akbank</td>
<td style="text-align: center">12/18</td>
<td style="text-align: center">000</td>
<td style="text-align: center">a</td>
</tr>
<tr>
<td>5456165456165454</td>
<td style="text-align: left"> Finansbank</td>
<td style="text-align: center">12/18</td>
<td style="text-align: center">000</td>
<td style="text-align: center">a</td>
</tr>
</tbody></table>
<h1 id='error-codes'>Error Codes</h1>
<p>Paytrek handles possible error mappings between bank services. It returns you to user
friendly error messages within <code>error_code</code> and <code>error_message</code>. Following table includes
error codes and descriptions.</p>

<table><thead>
<tr>
<th style="text-align: center">Code</th>
<th style="text-align: left">Merchant Message</th>
<th style="text-align: left">Customer Message</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">30001</td>
<td style="text-align: left">Invalid Business Member</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10004</td>
<td style="text-align: left">Transaction has been denied / General Rejection</td>
<td style="text-align: left">Transaction has been denied, please contact your bank</td>
</tr>
<tr>
<td style="text-align: center">10006</td>
<td style="text-align: left">ID Control / Honor With Id</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30003</td>
<td style="text-align: left">Invalid Amount</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10009</td>
<td style="text-align: left">Invalid Account / Card Number</td>
<td style="text-align: left">Your transaction has been terminated, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">10020</td>
<td style="text-align: left">Insufficient Limit</td>
<td style="text-align: left">Transaction has been denied, please check your card limit.</td>
</tr>
<tr>
<td style="text-align: center">10023</td>
<td style="text-align: left">Card has Expired</td>
<td style="text-align: left">Transaction has been denied, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">10026</td>
<td style="text-align: left">The transaction has not been cleared to the cardholder</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">10029</td>
<td style="text-align: left">Security Breach</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30009</td>
<td style="text-align: left">Incompatible data received</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30011</td>
<td style="text-align: left">Encryption Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10033</td>
<td style="text-align: left">Wrong / Invalid Cvv</td>
<td style="text-align: left">Transaction has been denied, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">30013</td>
<td style="text-align: left">Authentication Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10038</td>
<td style="text-align: left">Rejection - Invalid Card</td>
<td style="text-align: left">The transaction has been denied, please proceed with another card.</td>
</tr>
<tr>
<td style="text-align: center">30015</td>
<td style="text-align: left">Double Transaction Transfer</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">30016</td>
<td style="text-align: left">Daily Count Error/ Cancellation has been rejected</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">20015</td>
<td style="text-align: left">System Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">20017</td>
<td style="text-align: left">Connection Error</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30033</td>
<td style="text-align: left">Incorrect Extra Point Parameter</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30037</td>
<td style="text-align: left">Invalid Installment</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30041</td>
<td style="text-align: left">Invalid Pos</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30050</td>
<td style="text-align: left">End of the Day Transactions must be Completed</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30053</td>
<td style="text-align: left">Invalid Currency</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">30090</td>
<td style="text-align: left">Invalid Repeating Payment Duration</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">10046</td>
<td style="text-align: left">The Request can be Fraud, Ip of cardholder did not clear the check</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30119</td>
<td style="text-align: left">Invalid Order Number.</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">30120</td>
<td style="text-align: left">Order Number is in Use</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">10049</td>
<td style="text-align: left">Maximum Retry Count Exceeded</td>
<td style="text-align: left">Maximum retry count exceeded, Please try again later.</td>
</tr>
<tr>
<td style="text-align: center">99999</td>
<td style="text-align: left">Card Declined</td>
<td style="text-align: left">Card Declined</td>
</tr>
<tr>
<td style="text-align: center">10050</td>
<td style="text-align: left">FR-Rejected</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">40000</td>
<td style="text-align: left">Unable to Authenticate</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to verify cardholder.</td>
</tr>
<tr>
<td style="text-align: center">40004</td>
<td style="text-align: left">Cardholder not Participating</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">40005</td>
<td style="text-align: left">Directory Server not Responding</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">40006</td>
<td style="text-align: left">Authentication Failure</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">40007</td>
<td style="text-align: left">3D Secure System Error</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
<tr>
<td style="text-align: center">10001</td>
<td style="text-align: left">Please call your bank for authorization</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">10003</td>
<td style="text-align: left">Block The Card</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">30002</td>
<td style="text-align: left">Invalid Transaction</td>
<td style="text-align: left">An unexpected error has occurred, please contact the seller.</td>
</tr>
<tr>
<td style="text-align: center">10010</td>
<td style="text-align: left">Unidentified Issuer Bank</td>
<td style="text-align: left">Your transaction has been terminated, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">30005</td>
<td style="text-align: left">Cancellation could not be completed / The original could not be found</td>
<td style="text-align: left">-</td>
</tr>
<tr>
<td style="text-align: center">10016</td>
<td style="text-align: left">Too Many Pin Entry Attempts, Block the Card</td>
<td style="text-align: left">Transaction has been denied, please contact your bank.</td>
</tr>
<tr>
<td style="text-align: center">10032</td>
<td style="text-align: left">Invalid Date</td>
<td style="text-align: left">Transaction has been denied, please check your card information.</td>
</tr>
<tr>
<td style="text-align: center">30118</td>
<td style="text-align: left">The Request is not included in the Group&#39;s Allowed Day/Hour Setting</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">30128</td>
<td style="text-align: left">Vpos Lock Control Failure</td>
<td style="text-align: left">We cannot complete your transaction at the moment, please contact the the seller.</td>
</tr>
<tr>
<td style="text-align: center">UNKNOWN_ERROR</td>
<td style="text-align: left">Unknown Error</td>
<td style="text-align: left">An unexpected error has occurred, please try again later</td>
</tr>
<tr>
<td style="text-align: center">9000</td>
<td style="text-align: left">Preauth Transaction Cannot Void</td>
<td style="text-align: left">Preauth Transaction Cannot Void</td>
</tr>
<tr>
<td style="text-align: center">9001</td>
<td style="text-align: left">3D Fields Do Not Match</td>
<td style="text-align: left">3D Fields Do Not Match</td>
</tr>
<tr>
<td style="text-align: center">40002</td>
<td style="text-align: left">Cardholder or Issuer Bank not Enrolled in 3D Secure System</td>
<td style="text-align: left">We cannot proceed with your transaction, unable to perform 3D Secure Authentication.</td>
</tr>
</tbody></table>
<h1 id='paytrek-collection-wallet'>Paytrek Collection Wallet</h1>
<p>Paytrek Wallet is the payout platform that used to make payments for your payees such as earnings, commissions or loyalities etc.
The platform comprise of two main components for completing payments
and payout flow. They are <a href="https://paytrekwallet.docs.apiary.io/#introduction/paytrek-wallet-api">Wallet API</a> and <a href="https://paytrekwallet.docs.apiary.io/#introduction/payee-dashboard">Payee Dashboard</a>.</p>
<h1 id='reference'><a href='#reference' style='color: white; text-decoration: none; color:#7ccfaf' > Reference </a></h1><h1 id='sale'>Sale</h1>
<p>Sale Resource provides you the endpoint to create a sale object that including sale related informations.
It allows to define a proper transaction before charging the card.
If the sale that you are going to charge is Pre-Authorized (<code>pre_auth</code> must be <code>true</code>),
the sale will be captured.</p>

<p>To retrieve a created sale object, <code>sale_token</code> must be defined in url and send by <code>GET</code> HTTP method.
It returns related sale details with transaction informations and status.</p>

<p>(eg. <code>/api/v2/sale/f25356bab177416ba7b518cc1bd8a596/</code>)</p>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>
<h2 id='create-sale'>Create Sale</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>201
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521014319</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:58:39.519205Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T07:58:39.519707Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/sale/</td>
</tr>
</tbody></table>

<p>There is an example request of sale creation request in left panel.</p>
<h2 id='retrieve-sale'>Retrieve Sale</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521014392</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:58:39.519205Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T07:58:39.519707Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/sale/<strong>sale_token</strong>/</td>
</tr>
</tbody></table>
<h1 id='charge'>Charge</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cvc"</span><span class="p">:</span><span class="s2">"000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803******4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c626f49193114e24ad0980752b749318"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issuer_bank_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_charge"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?token=c626f49193114e24ad0980752b749318"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Charge Resource provides you the
endpoint to charge a credit card.
You must create a <a href="#sale">Sale</a> object before charging your customer.
If the sale that you are going to charge is Pre-Authorized (pre_auth must be true),
the sale will be captured.</p>

<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/charge/</td>
</tr>
</tbody></table>

<p>While charging a card, you can also store it with <code>save_card</code> option.
If <code>save_card</code> is settled <code>true</code> in request then it will be vaulted and
returns <code>card_token</code> in response. It allows to charge the card in
the next payment within <a href="#charge-with-token">Charge with token</a>.</p>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left"> Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">sale_token</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Sale kaynağı tarafından oluşturulan satışa ait token.</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Kredi kartı numarası.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Kredi kartı son kullanım tarihi MM/YY formatında.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">Karta ait CVC numarası.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">Kart üzerindeki isim.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">save_card</td>
<td style="text-align: left">boolean(Varsayılan: true)</td>
<td style="text-align: left">Kart saklama parametresi.</td>
</tr>
</tbody></table>
<h1 id='direct-charge-2'>Direct Charge</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"cvc"</span><span class="p">:</span><span class="s2">"000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">12.0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="w">
    </span><span class="p">}],</span><span class="w">
  </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803******4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"johndoe@gmail.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ready to Send"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issuer_bank_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"merchant_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521016061</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sale"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ref_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"secure_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:27:40.467500Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_number_last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"exchange_rate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_fee_rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fraud_risk"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">46196</span><span class="p">,</span><span class="w">
                </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521016061</span><span class="p">,</span><span class="w">
                </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:27:40.411031Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"risk_score"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"decision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACCEPT"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reviewer_decision"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"reviewer_comments"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bin_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bin_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ip_region"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ip_country"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ip_city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"ref_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"info_codes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sale"</span><span class="p">:</span><span class="w"> </span><span class="mi">90810</span><span class="p">,</span><span class="w">
                </span><span class="s2">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"paytrek_ref_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1mlHu6ljNGxC5CZY0nVs"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"paytrek_error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1467034250"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T09:27:40.301574Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92489820e4914f23b2db8039205cb64b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_charge"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"product_name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"photo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://sandbox.paytrek.com/statics/images/testing.jpg"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"unit_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12.00"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:27:40.302118Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?token=92489820e4914f23b2db8039205cb64b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Direct charge endpoint provides to charge a credit card instantly
without creating any sale object. If the sale that you are going to charge is Pre-Authorized
(<code>pre_auth</code> must be <code>true</code>), the sale will be captured.</p>

<p>While charging a card, you can also store it with <code>save_card</code> option.
If <code>save_card</code> is settled <code>true</code> in request then it will be vaulted and
returns <code>card_token</code> in response. It allows to charge the card in
the next payment within <a href="#charge-with-token">Charge with token</a>.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">3-letter ISO code for currency.</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The order id of the sale.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The amount to charge the visitor.</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The credit card number.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The expiration date of the credit card, in MM/YY format.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The security number of the credit card.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The name on card.</td>
</tr>
<tr>
<td style="text-align: left">installment</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The installment number of the sale.</td>
</tr>
<tr>
<td style="text-align: left">secure_option</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Whether the sale is secure.(Default: false)</td>
</tr>
<tr>
<td style="text-align: left">half_secure</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Whether the sale can be charged if 3d enrollment check returns mdstatus 2, 3, 4.</td>
</tr>
<tr>
<td style="text-align: left">return_url</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Related link that user is redirected when payment completed.</td>
</tr>
<tr>
<td style="text-align: left">pre_auth</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Indicates whether this sale should be pre-authorized.(Default: false)</td>
</tr>
<tr>
<td style="text-align: left">items</td>
<td style="text-align: left">object, required</td>
<td style="text-align: left">The item related informations which is selling.</td>
</tr>
<tr>
<td style="text-align: left">customer_first_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s first name.</td>
</tr>
<tr>
<td style="text-align: left">customer_last_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s last name.</td>
</tr>
<tr>
<td style="text-align: left">customer_email</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s email address.</td>
</tr>
<tr>
<td style="text-align: left">customer_ip_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s ip address.</td>
</tr>
<tr>
<td style="text-align: left">billing_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing address.</td>
</tr>
<tr>
<td style="text-align: left">billing_city</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing city.</td>
</tr>
<tr>
<td style="text-align: left">billing_state</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Customer&#39;s billing state, use postal abbreviations for US and CA.</td>
</tr>
<tr>
<td style="text-align: left">billing_country</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing country, 2-letter ISO code.</td>
</tr>
<tr>
<td style="text-align: left">billing_zipcode</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing zipcode.</td>
</tr>
<tr>
<td style="text-align: left">billing_phone</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing phone number.</td>
</tr>
<tr>
<td style="text-align: left">sale_data</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Extra fields for sale.</td>
</tr>
</tbody></table>
<h1 id='vault'>Vault</h1>
<p>Paytrek allows you to store your customer’s PAN data on Paytrek’s secure vault. By using this endpoint,
you will only need to retrieve the credit card data from your customers only once and then you will be able to use the same data for charging any time you wish.</p>

<p>Here are the steps you must take:</p>

<ul>
<li>Validate the credit card data that customers enter on your form.</li>
<li>Send a POST request to Vault endpoint with the credit card data.</li>
<li>Paytrek will return you a card token.</li>
<li>Charge the customer with that token through <code>charge_with_token</code> endpoint.</li>
</ul>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>
<h2 id='vaulting-card'>Vaulting Card</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Joe Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521015364</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b54e2f7-58ad-40e3-9a71-f3bc9333c406"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:16:04.001969Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b561169d7a2d467f885a7aedf7b10cf3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The credit card number.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The expiration date of the credit card, in MM/YY format.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The security number of the credit card.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The name on card.</td>
</tr>
<tr>
<td style="text-align: left">card_label</td>
<td style="text-align: left">string</td>
<td style="text-align: left">The optional card label name.</td>
</tr>
</tbody></table>
<h2 id='retrieve-vaulted-card'>Retrieve Vaulted Card</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1521015364</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2b54e2f7-58ad-40e3-9a71-f3bc9333c406"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-03-14T08:16:04.001969Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b561169d7a2d467f885a7aedf7b10cf3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ted"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/<strong>card_token</strong>/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">card_token</td>
<td style="text-align: left">Vault edilen karta ait kart token&#39;ı</td>
</tr>
</tbody></table>
<h2 id='listing-vaulted-cards'>Listing Vaulted Cards</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"next"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"previous"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1540562575</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aac3a45b-8ced-4e4c-8ebb-c88ceff272f6"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-26T13:59:45.207410Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1540562575</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0f46ba98-d9d2-4fd3-93e4-6d23b4b48839"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-26T13:59:46.445397Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">İstek Türü</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">card_user_id</td>
<td style="text-align: center">optional</td>
</tr>
<tr>
<td style="text-align: center">card_label</td>
<td style="text-align: center">optional</td>
</tr>
</tbody></table>
<h2 id='delete-vaulted-card'>Delete Vaulted Card</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>204
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">DELETE</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/vault/<strong>card_token</strong>/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">card_token</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Card token after vault operation.</td>
</tr>
</tbody></table>
<h1 id='charge-with-token'>Charge With Token</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="s2">"5f20ca43d47244509949eb32c80e522a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"card_token"</span><span class="p">:</span><span class="s2">"914dcf0b-236b-44e9-9b31-3925af88cdc5"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"exp_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803******4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_product"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5f20ca43d47244509949eb32c80e522a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exp_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_risk"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"J********"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dcc_currency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"error_message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"issuer_bank_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"secure_charge"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"***"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"?token=5f20ca43d47244509949eb32c80e522a"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This enpoint provides to charge the customer
with created card token. You will notice there is no amount or quantity
parameters for this endpoint. You must create a sale by using Sale endpoint
and card token by using Vault endpoint before charging your customer.</p>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>

<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/charge_with_token/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The sale token created though sale endpoint.</td>
</tr>
<tr>
<td style="text-align: center">card_token</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The card token created though vault endpoint.</td>
</tr>
</tbody></table>
<h1 id='capture'>Capture</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16a810b503c4a91bb5c3d883617530a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.72"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24.72"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">97510</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Capture endpoint provides to capture a payment.
If you want to capture a payment that you&#39;ve already pre-authorized, all you need to do is sending a POST request to the capture resource’s endpoint with the pre-authorized sale’s token.
Please note that you cannot capture a payment that is not pre-authorized. If you would like to authorize a payment, you must create the sale with pre_auth field set to true.
If your sale was in review status, the sale’s fraud decision will be updated as accepted after you capture it through the API.</p>

<p>Flow of pre-authorized payment :</p>

<ul>
<li>Send a request to <code>direct_charge</code> endpoint within required data and <code>pre_auth: true</code>.</li>
<li>After that use <code>sale_token</code> to capture the payment.</li>
</ul>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>

<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/capture/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The sale token created though sale endpoint.</td>
</tr>
<tr>
<td style="text-align: center">comments</td>
<td style="text-align: left">string, optional</td>
<td style="text-align: left">Comments for accepting the fraud review decision.</td>
</tr>
</tbody></table>
<h1 id='cancel'>Cancel</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16a810b503c4a91bb5c3d883617530a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.72</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Cancel endpoint provides to cancel and refund a payment.
When a request is sent to the Cancel endpoint, it will issue a full refund.
If you’d like to issue a partial refund use <code>Refund</code> endpoint.
In both of cases, the response will contain an amount information.
If your sale was in review status, the sale’s fraud decision will be updated as rejected after you cancel it through the API.</p>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>

<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/cancel/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The sale token created though sale endpoint.</td>
</tr>
<tr>
<td style="text-align: center">comments</td>
<td style="text-align: left">string, optional</td>
<td style="text-align: left">Comments for accepting the fraud review decision.</td>
</tr>
</tbody></table>
<h1 id='refund'>Refund</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.70</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comments"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testing"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"total_refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">89890</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a16a810b503c4a91bb5c3d883617530a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">24.72</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Refund endpoint provides refund a payment.
When a request is sent to the Refund Resource, Paytrek will first try to cancel the payment.
If there’s any error with the cancel request, it will issue a full refund.
If you’d like to issue a partial refund, you’ll need to send the amount parameter.
In both of cases, the response will contain an amount information.
If your sale was in review status,
the sale’s fraud decision will be updated as rejected
after you cancel it through the API.</p>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>

<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">POST</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/refund/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: center">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">sale_token</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The sale token that charged sale object.</td>
</tr>
<tr>
<td style="text-align: center">amount</td>
<td style="text-align: left">number, optional</td>
<td style="text-align: left">Amount to refund.</td>
</tr>
<tr>
<td style="text-align: center">comments</td>
<td style="text-align: left">string, optional</td>
<td style="text-align: left">Comments for accepting the fraud review decision.</td>
</tr>
</tbody></table>
<h1 id='subscription-plan'>Subscription Plan</h1>
<p>Paytrek allows you to create subscription plans for recurring payments.
Subscription plan endpoint requires almost the same request parameters
with <a href="#direct-charge"><code>Direct Charge</code></a> except <code>recurring</code> one.</p>

<p>It&#39;s a json block that includes following parameters for creating a new plan.
<code>json
&quot;recurring&quot;: {
    &quot;name&quot;: &quot;Test Store Recurring Payments&quot;,
    &quot;recurring_period&quot;: &quot;Monthly&quot;,
    &quot;start_date&quot;: &quot;2018-08-30&quot;,
    &quot;recurring_frequency&quot;: 4
}
</code>
If <code>start_date</code> isn&#39;t settled then <strong>first payment</strong> will be charged today.
In addition, it&#39;s mandatory to set <code>save_card: true</code> while creating subscription plan.</p>
<h4 id='recurring-periods'>Recurring Periods</h4>
<ul>
<li>Daily</li>
<li>Weekly</li>
<li>Monthly</li>
<li>Yearly</li>
</ul>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>
<h2 id='create-subscription-plan'>Create Subscription Plan</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_holder_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"recurring"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recurring_period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-30"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"recurring_frequency"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"save_card"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4508034508034509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cvc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com.tr/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34410"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accept@paytrek.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fraud_check_enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expiration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12/2020"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20180424141314"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"total_refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"succeeded"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b39887704acb480e81ab8611ae256719"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">89890</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.7</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accept@paytrek.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr-tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34410"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529389543</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20180424141314"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T07:25:42.720412Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8639b66510424eca9b104f5ad0be634e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"cancelled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"plan_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0351fe3-4c05-4611-8c38-c07ff33679e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fixed_currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1ad588a-9291-4d14-a4ee-ec94d07389ab"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9b5ee804-5399-423a-a0b7-794f1145ea4a"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73a3eea0-06f8-4113-9412-7c32f976e2e4"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"active_card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.520000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.421093Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com.tr/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69daf8cb6fe741a885cad8219bdb9dac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">3-letter ISO code for currency.</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The order id of the sale.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The amount to charge the visitor.</td>
</tr>
<tr>
<td style="text-align: left">number</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The credit card number.</td>
</tr>
<tr>
<td style="text-align: left">expiration</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The expiration date of the credit card, in MM/YY format.</td>
</tr>
<tr>
<td style="text-align: left">cvc</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The security number of the credit card.</td>
</tr>
<tr>
<td style="text-align: left">card_holder_name</td>
<td style="text-align: left">The name on card.</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">recurring</td>
<td style="text-align: left">object, required</td>
<td style="text-align: left">Subscription plan proporties[1].</td>
</tr>
<tr>
<td style="text-align: left">installment</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The installment number of the sale.</td>
</tr>
<tr>
<td style="text-align: left">secure_option</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Whether the sale is secure(Default: False).</td>
</tr>
<tr>
<td style="text-align: left">half_secure</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Whether the sale can be charged if 3d enrollment check returns mdstatus 2, 3, 4.</td>
</tr>
<tr>
<td style="text-align: left">return_url</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Related link that user is redirected when payment completed.</td>
</tr>
<tr>
<td style="text-align: left">pre_auth</td>
<td style="text-align: left">boolean</td>
<td style="text-align: left">Indicates whether this sale should be pre-authorized(Default: False).</td>
</tr>
<tr>
<td style="text-align: left">items</td>
<td style="text-align: left">object, required</td>
<td style="text-align: left">The item related informations which is selling.</td>
</tr>
<tr>
<td style="text-align: left">customer_first_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s first name.</td>
</tr>
<tr>
<td style="text-align: left">customer_last_name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s last name.</td>
</tr>
<tr>
<td style="text-align: left">customer_email</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s email address.</td>
</tr>
<tr>
<td style="text-align: left">customer_ip_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s ip address.</td>
</tr>
<tr>
<td style="text-align: left">billing_address</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing address.</td>
</tr>
<tr>
<td style="text-align: left">billing_city</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing city.</td>
</tr>
<tr>
<td style="text-align: left">billing_state</td>
<td style="text-align: left">string</td>
<td style="text-align: left">Customer&#39;s billing state, use postal abbreviations for US and CA.</td>
</tr>
<tr>
<td style="text-align: left">billing_country</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing country, 2-letter ISO code.</td>
</tr>
<tr>
<td style="text-align: left">billing_zipcode</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing zipcode.</td>
</tr>
<tr>
<td style="text-align: left">billing_phone</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">Customer&#39;s billing phone number.</td>
</tr>
<tr>
<td style="text-align: left">sale_data</td>
<td style="text-align: left">object</td>
<td style="text-align: left">Extra fields for sale.</td>
</tr>
</tbody></table>

<p>[1] Parameters of Recurring parameter(JSON);</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The name of subscriotion plan.</td>
</tr>
<tr>
<td style="text-align: left">start_date</td>
<td style="text-align: left">string</td>
<td style="text-align: left">To define when subscription plan will begin.</td>
</tr>
<tr>
<td style="text-align: left">recurring_period</td>
<td style="text-align: left">string, required</td>
<td style="text-align: left">The recurring period.</td>
</tr>
<tr>
<td style="text-align: left">recurring_frequency</td>
<td style="text-align: left">number, required</td>
<td style="text-align: left">The recurring frequency to define how many periods.</td>
</tr>
</tbody></table>
<h2 id='retrieve-subscription-plan'>Retrieve Subscription Plan</h2>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"secure_option"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"half_secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TRY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accept@paytrek.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tr-tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"212.57.9.204"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_zipcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34410"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"financial_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_phone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_data"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1529389543</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pre_auth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Market St. San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20180424141314"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expires_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T07:25:42.720412Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"isbank"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hosted_payment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sale_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8639b66510424eca9b104f5ad0be634e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_plan"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"cancelled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"vaults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"plan_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0351fe3-4c05-4611-8c38-c07ff33679e0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"fixed_currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1ad588a-9291-4d14-a4ee-ec94d07389ab"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9b5ee804-5399-423a-a0b7-794f1145ea4a"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T21:00:00Z"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73a3eea0-06f8-4113-9412-7c32f976e2e4"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"active_card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.520000Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"billing_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"installment"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.421093Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"refunded_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Created"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"return_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com.tr/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_company"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"request_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"card_user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"69daf8cb6fe741a885cad8219bdb9dac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"callback_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"billing_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"450803"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/subscription_plan/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parametre</th>
<th style="text-align: left">Tip</th>
<th style="text-align: left">Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">plan_token</td>
<td style="text-align: left">Subscription plan token.</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h3 id='update-subscription-plan-put'>Update Subscription Plan [PUT]</h3>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Request Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
    </span><span class="p">}],</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Test Store Recurring Payments"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"cancelled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vaults"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4509"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visa"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Test Store Recurring Payments"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d0351fe3-4c05-4611-8c38-c07ff33679e0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fixed_currency_amount"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-10-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6ac1726c-b8bd-4241-8976-601bcf4e4b75"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1ad588a-9291-4d14-a4ee-ec94d07389ab"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-08-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9b5ee804-5399-423a-a0b7-794f1145ea4a"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payment_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-07-18T21:00:00Z"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subscription_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73a3eea0-06f8-4113-9412-7c32f976e2e4"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"active_card_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab5b2706-75c6-4929-8269-9f410fe54178"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-19T06:25:43.520000Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">PUT</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/subscription_plan/</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">plan_token</td>
<td style="text-align: left">Subscription plan token.</td>
<td style="text-align: left"></td>
</tr>
</tbody></table>
<h1 id='installments'>Installments</h1>
<blockquote>
<p>Request Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span><span class="s2">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basic aEtHWE53SFExRk5IOld2OXI5QmdxSnFocQ=="</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Code</p>
</blockquote>
<pre class="highlight plaintext"><code>200
</code></pre>
<blockquote>
<p>Response Headers</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Content-Type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"application/json"</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response Body</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
     </span><span class="s2">"sys_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1520321002</span><span class="p">,</span><span class="w">
     </span><span class="s2">"language_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en-us"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"bin_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"510118"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123.00"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"banks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="s2">"card_brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mastercard"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"card_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"credit"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"card_issuer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"denizbank"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"card_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TR"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"loyalty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bonus"</span><span class="p">,</span><span class="w">
             </span><span class="s2">"is_commercial"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
             </span><span class="s2">"installments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"113.08"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"113.08"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44.31"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"132.92"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"113.08"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32.12"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117.54"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25.69"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117.54"</span><span class="w">
                 </span><span class="p">},</span><span class="w">
                 </span><span class="p">{</span><span class="w">
                     </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"instalment_amounts"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21.41"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"128.46"</span><span class="p">,</span><span class="w">
                     </span><span class="s2">"total_amount_wo_commission"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117.54"</span><span class="w">
                 </span><span class="p">}</span><span class="w">
             </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Installments endpoint provides to list installment alternatives and
cards through by given <code>bin_number</code> and <code>amount</code> as parameters in url.</p>

<p>In  order to make request you may find the necessary parameters on  following link in by opening new tab and you may also make the request  by
between tabs via using swicth console.</p>

<table><thead>
<tr>
<th style="text-align: center">Request Type</th>
<th style="text-align: center">Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center">GET</td>
<td style="text-align: center">https://sandbox.paytrek.com/api/v2/installments/?bin_number=bin_number&amp;amount=amount</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">bin_number</td>
<td style="text-align: left">optional</td>
<td style="text-align: left">First 6 digits of card.</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">-</td>
<td style="text-align: left">Amount for installment plans.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
